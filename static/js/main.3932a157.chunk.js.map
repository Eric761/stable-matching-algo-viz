{"version":3,"sources":["components/MainList/MainList.js","components/Header/HeaderElements.js","components/Header/Header.js","components/Notifier/Notifier.js","components/MainList/MainListElements.js","components/helper/arrangement.js","components/MainList/MaleList/MaleList.js","components/MainList/FemaleList/FemaleList.js","components/MainList/AnimationCol/AnimationCol.js","components/helper/helperFns.js","components/helper/algorithm.js","components/helper/scheduler.js","components/helper/informer.js","App.js","index.js"],"names":["animationQueue","stableMarriageNameIndex","stableMarriageAlgorithm","stableMarriageProcessQueue","HeaderContainer","styled","div","NavContainer","IconContainer","Link","state","ToggleContainer","Title","h3","active","StyledRiRestartFill","RiRestartFill","Dummy","StyledImShuffle","ImShuffle","StyledFaPlay","FaPlay","StyledBsSkipForwardFill","BsSkipForwardFill","StyledFaPause","FaPause","isPaused","StyledFaStop","FaStop","StyledFaSave","FaSave","StyledFaFileUpload","FaFileUpload","theme","createMuiTheme","overrides","MuiTooltip","tooltip","fontSize","color","backgroundColor","fontFamily","maxWidth","StyledSwitch","withStyles","root","width","height","padding","margin","spacing","switchBase","transform","palette","common","white","opacity","border","thumb","track","borderRadius","grey","transition","transitions","create","checked","focusVisible","classes","props","Switch","focusVisibleClassName","disableRipple","Header","pause","SMPVizActive","SMPVizDone","handleChangeBgColor","handleRandomConfig","handleReset","handleSaveFile","handleInputFile","handlePlay","handlePause","handleSkip","handleStop","handleDarkMode","useState","setState","setActive","useEffect","handleChange","className","href","target","onClick","for","id","type","accept","onChange","event","Tooltip","disableFocusListener","disableTouchListener","title","placement","arrow","NotifierContainer","Notifier","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","Zoom","LeftContainer","StyledPaper","Paper","flag","highlight","bgColor","darkMode","AnimationStyledPaper","styleElementFlag","engageIndex","toggle","List","pointer","AnimationList","showAnimationColor","Name","span","PreferenceList","animation","styleFlag","ind","len","engageHighlight","StyledInput","Input","disabled","done","StyledFaChevronCircleRight","FaChevronCircleRight","play","StyledFaChevronCircleDown","FaChevronCircleDown","StyledRiDeleteBack2Fill","RiDeleteBack2Fill","StyledMdDragHandle","MdDragHandle","ListItem","StyledMdAddCircle","MdAddCircle","maleNames","femaleNames","defaultArrangement","name","preferences","MaleList","male","handleFemalePreferences","handleFemaleArr","handleDeleteMaleList","handleAddMaleItem","flagBtn","highlightMaleIndex","showAnimationCol","resetMaleArray","informer","obj","map","elem","maleArr","setMaleArr","dragging","setDragging","dragItem","useRef","dragItemNode","maleEntity","document","getElementsByClassName","console","log","parentNode","scrollIntoView","behavior","block","inline","Object","keys","length","ar","JSON","parse","stringify","index","forEach","item","temp","handleNameChange","value","queueMessage","handleDragEnd","e","current","removeEventListener","getStyles","style","autoHide","Collapse","in","collapsedHeight","timeout","overflow","elevation","autoComplete","placeholder","spellCheck","tempIndex","splice","handleDeleteItem","pref","onDragStart","addEventListener","setTimeout","handleDragStart","onDragEnter","targetItem","newMaleArr","FemaleList","female","handleMalePreferences","handleMaleArr","handleDeleteFemaleList","handleAddFemaleItem","highlightFemaleIndex","resetFemaleArray","femaleArr","setFemaleArr","femaleEntity","newFemaleArr","AnimationCol","showFemaleEntity","toggleOpacity","expandMalePreference","expandFemalePreference","scrollMaleIndex","scrollFemaleIndex","highlightMalePrefIndex","highlightFemalePrefIndex","toggleMale","setToggleMale","toggleFemale","setToggleFemale","setStyleElementFlag","malePrefInd","setMalePrefInd","femalePrefInd","setFemalePrefInd","ff","display","flexDirection","justifyContent","alignItems","onScrollFrame","values","preferencesName","addMaleIndices","newMaleArray","val","oppElem","push","tempObj","addFemaleIndices","newFemaleArray","removeColorAndToggle","arr","newArray","shuffleArray","preferenceArr","temporaryValue","randomIndex","currentIndex","mapIndex","Math","floor","random","randomArraySized","array","size","slice","isValidConfig","maleName","totalElements","totalElementsName","Set","ct","entity","name1","group1","indexOf","name2","group2","group","counts","every","x","ProcessCapture","this","history","start","end","process","content","Entity","parent","partner","preferencesIndex","rejects","getIndexByName","partnerIndex","otherIndex","SMPAlgo","config","nameIndexMap","capture","nameIndex","single","nosolution","isDone","beginProcess","getNonRejectedPreferenceIndex","addProcess","engage","shift","curPartner","allotPartner","addRejection","dumped","endProcess","Scheduler","queue","disable","callback","duration","skip","curr","add","bind","Informer","queueLimit","message","pos","toast","success","pauseOnHover","progress","undefined","warn","error","show","MainList","shuffle","reset","saveFile","uploadFile","stop","handleVizActive","handleVizDone","maleArray","setMaleArray","femaleArray","setFemaleArray","setResetMaleArray","setResetFemaleArray","entityMale","setEntityMale","entityFemale","setEntityFemale","setFlagBtn","setHighlightMaleIndex","setHighlightFemaleIndex","setToggleOpacity","setShowFemaleEntity","setExpandMalePreference","setExpandFemalePreference","setScrollMaleIndex","setScrollFemaleIndex","setHighlightMalePrefIndex","setHighlightFemalePrefIndex","setBgColor","bgLeftColor","setBgLeftColor","bgRightColor","setBgRightColor","setEngageIndex","setShowAnimationColor","clear","femaleIndex","maleIndex","showResult","curMaleIndex","curFemaleIndex","animationStep","selectIndex","oldPartnerIndex","dumpedMaleIndex","randomMaleCount","randomFemaleCount","randomMaleNames","randomFemaleNames","randomMaleArr","randomFemaleArr","randomFinalMaleArr","randomFinalFemaleArr","randomConfigClick","data","filename","file","Blob","window","navigator","msSaveOrOpenBlob","a","createElement","url","URL","createObjectURL","download","body","appendChild","click","removeChild","revokeObjectURL","userSaveFile","files","reader","FileReader","readAsText","readerEvent","result","Array","isArray","String","test","Number","validateJSONConfig","continue","mapper","nameIndexMapper","algoIterate","getCurrent","timeoutQueue","tempFemale","tempMale","newInd","parseInt","i","tempFlArr","tempMlArr","indexArr","idx","j","removeMaleIndex","tempArr","nameMaleArr","nameFemaleArr","randomName","tempPreference","addMaleItem","removeFemaleIndex","addFemaleItem","App","overflowY","overflowX","gridTemplateColumns","gridTemplateRows","styleBg","setStyleBg","setShuffle","setReset","setSaveFile","setUploadFile","setPlay","setPause","setSkip","setStop","setSMPVizActive","setSMPVizDone","setDarkMode","newEvent","newState","ReactDOM","render","StrictMode","getElementById"],"mappings":"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b,OACPvB,EAAYuB,EAAO,UAAY,UAAaA,EAAO,UAAY,aAIxDK,GAAqBnJ,YAAOoJ,KAAPpJ,CAAH,mMAKpB,qBAAGuH,SAA2B,QAAU,aAEtC,qBAAGa,UAA6B,OAAS,MAOzCiB,GAAWrJ,IAAOiI,KAAV,qMAIV,gBAAGV,EAAH,EAAGA,SAAUmB,EAAb,EAAaA,SAAb,OACPnB,EAAW,QAAUmB,EAAW,UAAY,aAEnC,qBAAGN,UAA6B,OAAS,MACrC,qBAAGD,UAA6B,OAAS,MAG7CmB,GAAoBtJ,YAAOuJ,KAAPvJ,CAAH,2KAGnB,qBAAGuH,SAA2B,UAAY,aAGzC,qBAAGM,QAAyB,UAAY,aAEvC,gBAAGN,EAAH,EAAGA,SAAUuB,EAAb,EAAaA,KAAb,OACPvB,EAAYuB,EAAO,UAAY,UAAaA,EAAO,UAAY,a,UChR/DU,GAAY,CAChB,OACA,SACA,SACA,SACA,SACA,SACA,OACA,OACA,QACA,QACA,UACA,OACA,KACA,SACA,QACA,QACA,QACA,SACA,QACA,QACA,SACA,QACA,SACA,UACA,QACA,UACA,QACA,QACA,OACA,SACA,SACA,SACA,MACA,OACA,QACA,OACA,OACA,UACA,SACA,SACA,QACA,SACA,MACA,OACA,QACA,SACA,OACA,UACA,OACA,SACA,MACA,MACA,OACA,OACA,MACA,OACA,QACA,OACA,MACA,UACA,MACA,SACA,OACA,QACA,SACA,SACA,SACA,QACA,OACA,QACA,OACA,SACA,MACA,QACA,QACA,QACA,QACA,SACA,OACA,QACA,QACA,MACA,QACA,SACA,UACA,QACA,QACA,SACA,QACA,OACA,QACA,OACA,OACA,MACA,SACA,QACA,SACA,UACA,OACA,SAIIC,GAAc,CAClB,OACA,QACA,QACA,QACA,SACA,MACA,OACA,QACA,QACA,SACA,SACA,OACA,SACA,QACA,QACA,OACA,OACA,QACA,SACA,QACA,SACA,QACA,OACA,QACA,OACA,OACA,SACA,QACA,SACA,SACA,SACA,QACA,QACA,QACA,QACA,OACA,UACA,OACA,QACA,QACA,OACA,QACA,OACA,QAC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","file":"static/js/main.3932a157.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport MaleList from \"./MaleList/MaleList\";\r\nimport FemaleList from \"./FemaleList/FemaleList\";\r\nimport AnimationCol from \"./AnimationCol/AnimationCol\";\r\nimport { defaultArrangement } from \"../helper/arrangement\";\r\nimport {\r\n  addMaleIndices,\r\n  addFemaleIndices,\r\n  removeColorAndToggle,\r\n  removeMaleIndex,\r\n  removeFemaleIndex,\r\n  addMaleItem,\r\n  addFemaleItem,\r\n  randomConfigClick,\r\n  isValidConfig,\r\n  userSaveFile,\r\n  validateJSONConfig,\r\n  nameIndexMapper,\r\n} from \"../helper/helperFns\";\r\nimport { SMPAlgo } from \"../helper/algorithm\";\r\nimport Scheduler from \"../helper/scheduler\";\r\nimport Informer from \"../helper/informer\";\r\n\r\nlet newMaleArray = addMaleIndices(\r\n  defaultArrangement.male,\r\n  defaultArrangement.female\r\n);\r\n\r\nlet newFemaleArray = addFemaleIndices(\r\n  defaultArrangement.male,\r\n  defaultArrangement.female\r\n);\r\n\r\nlet animationQueue;\r\nlet stableMarriageNameIndex;\r\nlet stableMarriageAlgorithm;\r\nlet stableMarriageProcessQueue;\r\n// let informer = new Informer();\r\n\r\nconst MainList = ({\r\n  shuffle,\r\n  reset,\r\n  saveFile,\r\n  uploadFile,\r\n  play,\r\n  pause,\r\n  skip,\r\n  stop,\r\n  SMPVizActive,\r\n  SMPVizDone,\r\n  darkMode,\r\n  handleRandomConfig,\r\n  handleReset,\r\n  handleSaveFile,\r\n  handleInputFile,\r\n  handlePlay,\r\n  handleVizActive,\r\n  handleVizDone,\r\n  handlePause,\r\n  handleSkip,\r\n  handleStop,\r\n}) => {\r\n  const [maleArray, setMaleArray] = useState(\r\n    JSON.parse(JSON.stringify(newMaleArray))\r\n  );\r\n  const [femaleArray, setFemaleArray] = useState(\r\n    JSON.parse(JSON.stringify(newFemaleArray))\r\n  );\r\n  const [resetMaleArray, setResetMaleArray] = useState(false);\r\n  const [resetFemaleArray, setResetFemaleArray] = useState(false);\r\n\r\n  const [entityMale, setEntityMale] = useState({});\r\n  const [entityFemale, setEntityFemale] = useState({});\r\n  const [flagBtn, setFlagBtn] = useState(true);\r\n  const [highlightMaleIndex, setHighlightMaleIndex] = useState(-1);\r\n  const [highlightFemaleIndex, setHighlightFemaleIndex] = useState(-1);\r\n  const [toggleOpacity, setToggleOpacity] = useState(false);\r\n  const [showFemaleEntity, setShowFemaleEntity] = useState(false);\r\n  const [expandMalePreference, setExpandMalePreference] = useState(false);\r\n  const [expandFemalePreference, setExpandFemalePreference] = useState(false);\r\n  const [scrollMaleIndex, setScrollMaleIndex] = useState(false);\r\n  const [scrollFemaleIndex, setScrollFemaleIndex] = useState(false);\r\n  const [highlightMalePrefIndex, setHighlightMalePrefIndex] = useState(-1);\r\n  const [highlightFemalePrefIndex, setHighlightFemalePrefIndex] = useState(-1);\r\n  const [bgColor, setBgColor] = useState(\"\");\r\n  const [bgLeftColor, setBgLeftColor] = useState({});\r\n  const [bgRightColor, setBgRightColor] = useState({});\r\n  const [engageIndex, setEngageIndex] = useState(-1);\r\n  const [showAnimationColor, setShowAnimationColor] = useState(false);\r\n  const [informer, setInformer] = useState(new Informer());\r\n\r\n  const showAnimationCol = (state, index) => {\r\n    if (!stableMarriageAlgorithm || !SMPVizDone) return;\r\n    console.log(state, index);\r\n    animationQueue.clear();\r\n    animationQueue.add(function () {\r\n      setToggleOpacity(false);\r\n      setExpandMalePreference(false);\r\n      setExpandFemalePreference(false);\r\n      setEntityMale({});\r\n      setEntityFemale({});\r\n      setHighlightMaleIndex(-1);\r\n      setHighlightFemaleIndex(-1);\r\n      setShowFemaleEntity(false);\r\n      setScrollMaleIndex(false);\r\n      setScrollFemaleIndex(false);\r\n      setBgColor(\"\");\r\n      setBgLeftColor({});\r\n      setBgRightColor({});\r\n      setHighlightMalePrefIndex(-1);\r\n      setHighlightFemalePrefIndex(-1);\r\n      setEngageIndex(-1);\r\n      setShowAnimationColor(false);\r\n    }, 250);\r\n    if (state === \"male\" && index !== undefined) {\r\n      let entity = stableMarriageAlgorithm.male[index];\r\n      if (entity.partner !== null) {\r\n        let male = entity;\r\n        let female = entity.partner;\r\n        animationQueue.add(function () {\r\n          setEntityMale(male);\r\n          setEntityFemale(female);\r\n          setBgColor(\r\n            darkMode\r\n              ? \"linear-gradient(45deg,black,#b9ffc7) !important\"\r\n              : \"linear-gradient(45deg,#00a460,#b0ffc0) !important\"\r\n          );\r\n          setShowAnimationColor(true);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          setToggleOpacity(true);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          setExpandMalePreference(true);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          setScrollMaleIndex(true);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          let femaleIndex = male.preferencesName.indexOf(female.name);\r\n          setHighlightMalePrefIndex(femaleIndex);\r\n        }, 500);\r\n        animationQueue.add(function () {\r\n          setShowFemaleEntity(true);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          setExpandFemalePreference(true);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          setScrollFemaleIndex(true);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          let maleIndex = female.preferencesName.indexOf(male.name);\r\n          setHighlightFemalePrefIndex(maleIndex);\r\n        }, 500);\r\n        animationQueue.add(function () {\r\n          setExpandMalePreference(false);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          setExpandFemalePreference(false);\r\n        }, 250);\r\n      } else {\r\n        informer.queueMessage(\r\n          \"warning\",\r\n          `${entity.name} has no partner. `,\r\n          2000\r\n        );\r\n      }\r\n    } else if (state === \"female\" && index !== undefined) {\r\n      let entity = stableMarriageAlgorithm.female[index];\r\n      if (entity.partner !== null) {\r\n        let male = entity.partner;\r\n        let female = entity;\r\n        animationQueue.add(function () {\r\n          setEntityMale(male);\r\n          setEntityFemale(female);\r\n          setBgColor(\r\n            darkMode\r\n              ? \"linear-gradient(45deg,black,#b9ffc7) !important\"\r\n              : \"linear-gradient(45deg,#00a460,#b0ffc0) !important\"\r\n          );\r\n          setShowAnimationColor(true);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          setToggleOpacity(true);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          setExpandMalePreference(true);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          setScrollMaleIndex(true);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          let femaleIndex = male.preferencesName.indexOf(female.name);\r\n          setHighlightMalePrefIndex(femaleIndex);\r\n        }, 500);\r\n        animationQueue.add(function () {\r\n          setShowFemaleEntity(true);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          setExpandFemalePreference(true);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          setScrollFemaleIndex(true);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          let maleIndex = female.preferencesName.indexOf(male.name);\r\n          setHighlightFemalePrefIndex(maleIndex);\r\n        }, 500);\r\n        animationQueue.add(function () {\r\n          setExpandMalePreference(false);\r\n        }, 250);\r\n        animationQueue.add(function () {\r\n          setExpandFemalePreference(false);\r\n        }, 250);\r\n      } else {\r\n        informer.queueMessage(\r\n          \"warning\",\r\n          `${entity.name} has no partner. `,\r\n          2000\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const showResult = () => {\r\n    if (!stableMarriageAlgorithm) return;\r\n    handleVizActive(true);\r\n    handleVizDone(true);\r\n    // Animation stops and containers are again uninteractive.\r\n    animationQueue.clear();\r\n    setToggleOpacity(false);\r\n    setBgLeftColor({});\r\n    setBgRightColor({});\r\n\r\n    setTimeout(function () {\r\n      console.log(stableMarriageAlgorithm);\r\n      for (let entity of stableMarriageAlgorithm.male) {\r\n        console.log(entity);\r\n        let curMaleIndex = stableMarriageNameIndex[entity.name];\r\n        if (entity.partner !== null) {\r\n          setBgLeftColor({\r\n            index: curMaleIndex,\r\n            color: darkMode\r\n              ? \"linear-gradient(45deg,black,#b9ffc7) !important\"\r\n              : \"linear-gradient(45deg,#00a460,#b0ffc0) !important\",\r\n          });\r\n        } else {\r\n          setBgLeftColor({\r\n            index: curMaleIndex,\r\n            color: darkMode\r\n              ? \"linear-gradient(45deg,black,#ff4747) !important\"\r\n              : \"linear-gradient(45deg,#e62a2a,#ffb6b6) !important\",\r\n          });\r\n        }\r\n      }\r\n      for (let entity of stableMarriageAlgorithm.female) {\r\n        let curFemaleIndex = stableMarriageNameIndex[entity.name];\r\n        console.log(entity);\r\n        if (entity.partner !== null) {\r\n          setBgRightColor({\r\n            index: curFemaleIndex,\r\n            color: darkMode\r\n              ? \"linear-gradient(45deg,black,#b9ffc7) !important\"\r\n              : \"linear-gradient(45deg,#00a460,#b0ffc0) !important\",\r\n          });\r\n        } else {\r\n          setBgRightColor({\r\n            index: curFemaleIndex,\r\n            color: darkMode\r\n              ? \"linear-gradient(45deg,black,#ff4747) !important\"\r\n              : \"linear-gradient(45deg,#e62a2a,#ffb6b6) !important\",\r\n          });\r\n        }\r\n      }\r\n    }, 0);\r\n  };\r\n\r\n  const animationStep = () => {\r\n    let { process, content } = stableMarriageProcessQueue.shift();\r\n    let { male, female, dumped } = content;\r\n    let curMaleIndex = stableMarriageNameIndex[male.name];\r\n    let curFemaleIndex = stableMarriageNameIndex[female.name];\r\n    // If the process is in between\r\n    if (process !== \"done\" && process !== \"start\") {\r\n      animationQueue.add(function () {\r\n        setToggleOpacity(true);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setExpandMalePreference(true);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setScrollMaleIndex(true);\r\n      }, 250);\r\n      let selectIndex = male.preferencesName.indexOf(female.name);\r\n      if (selectIndex !== undefined) {\r\n        animationQueue.add(function () {\r\n          setHighlightMalePrefIndex(selectIndex);\r\n        }, 500);\r\n      }\r\n    }\r\n\r\n    // 1st Step\r\n    if (process === \"start\") {\r\n      animationQueue.add(function () {\r\n        setHighlightMaleIndex(curMaleIndex);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setEntityMale(male);\r\n        setEntityFemale(female);\r\n      }, 250);\r\n    }\r\n\r\n    // Engage Process\r\n    else if (process === \"engage\") {\r\n      animationQueue.add(function () {\r\n        setHighlightFemaleIndex(curFemaleIndex);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setShowFemaleEntity(true);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setExpandFemalePreference(true);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setScrollFemaleIndex(true);\r\n      }, 250);\r\n      let selectIndex = female.preferencesName.indexOf(male.name);\r\n      if (selectIndex !== undefined) {\r\n        animationQueue.add(function () {\r\n          setHighlightFemalePrefIndex(selectIndex);\r\n        }, 500);\r\n      }\r\n      animationQueue.add(function () {\r\n        setExpandMalePreference(false);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setExpandFemalePreference(false);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setBgColor(\r\n          darkMode\r\n            ? \"linear-gradient(45deg,black,#ff8535) !important\"\r\n            : \"linear-gradient(45deg, #f79f00, #ffd174) !important\"\r\n        );\r\n      }, 500);\r\n      animationQueue.add(function () {\r\n        setBgLeftColor({\r\n          index: curMaleIndex,\r\n          color: darkMode\r\n            ? \"linear-gradient(45deg,black,#ff8535) !important\"\r\n            : \"linear-gradient(45deg, #f79f00, #ffd174) !important\",\r\n        });\r\n        setBgRightColor({\r\n          index: curFemaleIndex,\r\n          color: darkMode\r\n            ? \"linear-gradient(45deg,black,#ff8535) !important\"\r\n            : \"linear-gradient(45deg, #f79f00, #ffd174) !important\",\r\n        });\r\n        informer.queueMessage(\r\n          \"warning\",\r\n          `${male.name} is engaged with ${female.name}.`,\r\n          1000\r\n        );\r\n      }, 500);\r\n    }\r\n\r\n    // Break Process\r\n    else if (process === \"break\") {\r\n      animationQueue.add(function () {\r\n        let oldPartnerIndex = female.preferencesName.indexOf(dumped.name);\r\n        setEngageIndex(oldPartnerIndex);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setShowFemaleEntity(true);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setExpandFemalePreference(true);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setScrollFemaleIndex(true);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        let maleIndex = female.preferencesName.indexOf(male.name);\r\n        setHighlightFemalePrefIndex(maleIndex);\r\n        informer.queueMessage(\r\n          \"warning\",\r\n          `${female.name} breaks up with current partner ${dumped.name} and engages with ${male.name} .`,\r\n          2000\r\n        );\r\n      }, 500);\r\n      animationQueue.add(function () {\r\n        setExpandMalePreference(false);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setExpandFemalePreference(false);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        let dumpedMaleIndex = stableMarriageNameIndex[dumped.name];\r\n        setBgColor(\r\n          darkMode\r\n            ? \"linear-gradient(45deg,black,#ff8535) !important\"\r\n            : \"linear-gradient(45deg, #f79f00, #ffd174) !important\"\r\n        );\r\n        setBgLeftColor({\r\n          index: curMaleIndex,\r\n          color: darkMode\r\n            ? \"linear-gradient(45deg,black,#ff8535) !important\"\r\n            : \"linear-gradient(45deg, #f79f00, #ffd174) !important\",\r\n        });\r\n        setBgLeftColor({\r\n          index: dumpedMaleIndex,\r\n          color: darkMode\r\n            ? \"linear-gradient(45deg,black,#ff4747) !important\"\r\n            : \"linear-gradient(45deg,#e62a2a,#ffb6b6) !important\",\r\n        });\r\n      }, 500);\r\n    }\r\n\r\n    // Reject Process\r\n    else if (process === \"reject\") {\r\n      // This is the animation for reject.\r\n      // Reject means the female stays with their current partner, opposite of break.\r\n      animationQueue.add(function () {\r\n        let partnerIndex = female.preferencesName.indexOf(female.partner.name);\r\n        setEngageIndex(partnerIndex);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setShowFemaleEntity(true);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setExpandFemalePreference(true);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setScrollFemaleIndex(true);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        let maleIndex = female.preferencesName.indexOf(male.name);\r\n        setHighlightFemalePrefIndex(maleIndex);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setExpandMalePreference(false);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setExpandFemalePreference(false);\r\n      }, 250);\r\n\r\n      animationQueue.add(function () {\r\n        setBgColor(\r\n          darkMode\r\n            ? \"linear-gradient(45deg,black,#ff4747) !important\"\r\n            : \"linear-gradient(45deg,#e62a2a,#ffb6b6) !important\"\r\n        );\r\n        informer.queueMessage(\r\n          \"warning\",\r\n          `${female.name} stays with current partner ${female.partner.name} and rejects ${male.name} .`,\r\n          2000\r\n        );\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setBgLeftColor({\r\n          index: curMaleIndex,\r\n          color: darkMode\r\n            ? \"linear-gradient(45deg,black,#ff4747) !important\"\r\n            : \"linear-gradient(45deg,#e62a2a,#ffb6b6) !important\",\r\n        });\r\n        setBgRightColor({\r\n          index: curFemaleIndex,\r\n          color: darkMode\r\n            ? \"linear-gradient(45deg,black,#ff4747) !important\"\r\n            : \"linear-gradient(45deg,#e62a2a,#ffb6b6) !important\",\r\n        });\r\n      }, 250);\r\n\r\n      animationQueue.add(function () {\r\n        setBgRightColor({\r\n          index: curFemaleIndex,\r\n          color: darkMode\r\n            ? \"linear-gradient(45deg,black,#ff8535) !important\"\r\n            : \"linear-gradient(45deg, #f79f00, #ffd174) !important\",\r\n        });\r\n      }, 500);\r\n    }\r\n\r\n    // Last step process\r\n    else if (process === \"done\") {\r\n      // Animation for when the process is done. Removes the elements.\r\n      animationQueue.add(function () {\r\n        setToggleOpacity(false);\r\n      }, 250);\r\n      animationQueue.add(function () {\r\n        setEntityMale({});\r\n        setEntityFemale({});\r\n        setShowFemaleEntity(false);\r\n        setScrollMaleIndex(false);\r\n        setScrollFemaleIndex(false);\r\n        setBgColor(\"\");\r\n        setBgLeftColor({});\r\n        setBgRightColor({});\r\n        setHighlightMalePrefIndex(-1);\r\n        setHighlightFemalePrefIndex(-1);\r\n        setEngageIndex(-1);\r\n      }, 250);\r\n    }\r\n    if (stableMarriageProcessQueue.length === 0) {\r\n      animationQueue.add(function () {\r\n        showResult();\r\n        informer.queueMessage(\"valid\", \"Tap an entity to show its partner.\");\r\n      }, 100);\r\n    } else {\r\n      animationQueue.add(function () {\r\n        animationStep();\r\n      }, 250);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (shuffle) {\r\n      let { randomFinalMaleArr, randomFinalFemaleArr } = randomConfigClick();\r\n      setFlagBtn(false);\r\n      setMaleArray(randomFinalMaleArr);\r\n      setFemaleArray(randomFinalFemaleArr);\r\n      handleRandomConfig(false);\r\n      // To avoid undefined behaviour of toggle property in respective gender array!\r\n      setTimeout(() => {\r\n        setFlagBtn(true);\r\n      }, 500);\r\n      informer.queueMessage(\r\n        \"valid\",\r\n        \"Configuration has been randomized.\",\r\n        1500\r\n      );\r\n    }\r\n    if (reset) {\r\n      setFlagBtn(false);\r\n      setMaleArray(JSON.parse(JSON.stringify(newMaleArray)));\r\n      setFemaleArray(JSON.parse(JSON.stringify(newFemaleArray)));\r\n      handleReset(false);\r\n      setTimeout(() => {\r\n        console.log(maleArray, femaleArray);\r\n        setFlagBtn(true);\r\n      }, 500);\r\n      informer.queueMessage(\r\n        \"valid\",\r\n        \"Configuration has been reset to default.\",\r\n        1500\r\n      );\r\n    }\r\n  }, [shuffle, reset]);\r\n\r\n  useEffect(() => {\r\n    if (saveFile) {\r\n      if (isValidConfig(maleArray, femaleArray)) {\r\n        userSaveFile(\r\n          JSON.stringify({ male: maleArray, female: femaleArray }, null, 5),\r\n          \"configuration.json\",\r\n          \"application/json\"\r\n        );\r\n        informer.queueMessage(\r\n          \"valid\",\r\n          \"The configuration file is being saved at your device as configuration.json\"\r\n        );\r\n      } else {\r\n        informer.queueMessage(\r\n          \"error\",\r\n          \"Configuration is invalid. Please use unique names for all entities.\"\r\n        );\r\n      }\r\n      handleSaveFile(false);\r\n    }\r\n    if (uploadFile.state && uploadFile.event) {\r\n      console.log(uploadFile);\r\n      let file = uploadFile.event.target.files[0];\r\n      let reader = new FileReader();\r\n      reader.readAsText(file, \"UTF-8\");\r\n      reader.addEventListener(\"load\", function (readerEvent) {\r\n        try {\r\n          let config = JSON.parse(readerEvent.target.result);\r\n          // This would throw an error if anything is wrong and prevent further lines in the same block from being executed;\r\n          console.log(config);\r\n          validateJSONConfig(config);\r\n          setFlagBtn(false);\r\n          setMaleArray([...config.male]);\r\n          setFemaleArray([...config.female]);\r\n          informer.queueMessage(\"valid\", \"Configuration loaded successfully.\");\r\n          setTimeout(() => {\r\n            handleInputFile(\"\", false);\r\n            setFlagBtn(true);\r\n          }, 500);\r\n        } catch (error) {\r\n          // Shows an error in the UI.\r\n          informer.queueMessage(\"error\", error);\r\n        } finally {\r\n          // Make sure to reset the value of this file input to reload the same file, if given the same file.\r\n          uploadFile.event.target.value = \"\";\r\n        }\r\n      });\r\n    }\r\n  }, [saveFile, uploadFile]);\r\n\r\n  useEffect(() => {\r\n    if (play) {\r\n      if (!SMPVizActive && !SMPVizDone) {\r\n        let config = {\r\n          male: maleArray,\r\n          female: femaleArray,\r\n        };\r\n        if (!isValidConfig(maleArray, femaleArray)) {\r\n          informer.queueMessage(\r\n            \"error\",\r\n            \"Configuration is invalid. Please use unique names for all entities.\"\r\n          );\r\n          // To enable the play control btn again\r\n          handlePlay(false);\r\n          return;\r\n        }\r\n        animationQueue = new Scheduler();\r\n        stableMarriageNameIndex = nameIndexMapper(config);\r\n        stableMarriageAlgorithm = new SMPAlgo(config, stableMarriageNameIndex);\r\n        stableMarriageProcessQueue = [];\r\n\r\n        while (!stableMarriageAlgorithm.isDone()) {\r\n          stableMarriageAlgorithm.algoIterate();\r\n          stableMarriageProcessQueue.push(\r\n            ...stableMarriageAlgorithm.capture.getCurrent()\r\n          );\r\n        }\r\n        // Make sure the animationQueue is not disabled.\r\n        animationQueue.disable = false;\r\n        console.log(stableMarriageProcessQueue);\r\n\r\n        informer.queueMessage(\"valid\", \"Visualization starts.\");\r\n        handleVizActive(true);\r\n        setTimeout(() => {\r\n          animationStep();\r\n        }, 1200);\r\n      } else if (\r\n        pause &&\r\n        SMPVizActive &&\r\n        animationQueue &&\r\n        animationQueue.disable\r\n      ) {\r\n        handlePause(false);\r\n        animationQueue.continue();\r\n        informer.queueMessage(\"valid\", \"Visualization continuing.\");\r\n        // Third conditional is for when the visualization is done, and the user can only use stop to reset everything.\r\n      } else {\r\n        informer.queueMessage(\r\n          \"warning\",\r\n          \"Use stop button to reset the visualization.\"\r\n        );\r\n        if (SMPVizDone) handlePlay(false);\r\n      }\r\n    }\r\n  }, [play]);\r\n\r\n  useEffect(() => {\r\n    if (pause) {\r\n      if (\r\n        (animationQueue && animationQueue.disable) ||\r\n        !SMPVizActive ||\r\n        SMPVizDone\r\n      ) {\r\n        return;\r\n      }\r\n      animationQueue.pause();\r\n      informer.queueMessage(\"valid\", \"Visualization paused.\");\r\n      handlePlay(false);\r\n    }\r\n  }, [pause]);\r\n\r\n  useEffect(() => {\r\n    if (skip) {\r\n      if (!SMPVizActive || SMPVizDone) return;\r\n      showResult();\r\n      informer.queueMessage(\r\n        \"valid\",\r\n        \"Click an entity to see the partner.\",\r\n        3000\r\n      );\r\n      handleSkip(false);\r\n      handlePlay(false);\r\n      handlePause(false);\r\n    }\r\n  }, [skip]);\r\n\r\n  useEffect(() => {\r\n    if (stop) {\r\n      animationQueue.clear();\r\n\r\n      // Reset the necessary variables.\r\n      stableMarriageAlgorithm = null;\r\n      stableMarriageNameIndex = null;\r\n      stableMarriageProcessQueue = [];\r\n      handleVizActive(false);\r\n      handleVizDone(false);\r\n      handlePlay(false);\r\n      handleSkip(false);\r\n      handlePause(false);\r\n      setHighlightMaleIndex(-1);\r\n      setHighlightFemaleIndex(-1);\r\n\r\n      // Animate the removal of the entities.\r\n      let timeoutQueue = new Scheduler();\r\n      timeoutQueue.add(function () {\r\n        setToggleOpacity(false);\r\n        setExpandMalePreference(false);\r\n        setExpandFemalePreference(false);\r\n        setEntityMale({});\r\n        setEntityFemale({});\r\n        setShowFemaleEntity(false);\r\n        setScrollMaleIndex(false);\r\n        setScrollFemaleIndex(false);\r\n        setBgColor(\"\");\r\n        setBgLeftColor({});\r\n        setBgRightColor({});\r\n        setHighlightMalePrefIndex(-1);\r\n        setHighlightFemalePrefIndex(-1);\r\n        setEngageIndex(-1);\r\n        setShowAnimationColor(false);\r\n      }, 100);\r\n\r\n      // Repopulate the DOM.\r\n      setResetMaleArray(true);\r\n      setResetFemaleArray(true);\r\n      timeoutQueue.add(function () {\r\n        console.log(maleArray, resetMaleArray);\r\n        setResetMaleArray(false);\r\n        setResetFemaleArray(false);\r\n        handleStop(false);\r\n      }, 2000);\r\n    }\r\n  }, [stop]);\r\n\r\n  const handleMaleArr = (arr) => {\r\n    let tempMlArr = addMaleIndices(maleArray, arr);\r\n    let tempFlArr = removeColorAndToggle(arr);\r\n    setMaleArray(tempMlArr);\r\n    setFemaleArray(tempFlArr);\r\n    console.log(tempMlArr, tempFlArr);\r\n  };\r\n\r\n  const handleFemaleArr = (arr) => {\r\n    let tempFlArr = addFemaleIndices(arr, femaleArray);\r\n    let tempMlArr = removeColorAndToggle(arr);\r\n    setMaleArray(tempMlArr);\r\n    setFemaleArray(tempFlArr);\r\n    console.log(tempMlArr, tempFlArr);\r\n  };\r\n\r\n  const handleMalePreferences = (ind, val) => {\r\n    let tempMale = [...maleArray];\r\n    let tempFemale = [...femaleArray];\r\n    let newInd = parseInt(ind);\r\n    femaleArray[newInd].index.forEach((id, i) => {\r\n      tempMale[i].preferences[id] = val;\r\n    });\r\n    // femaleArray[newInd].name = val;\r\n    tempFemale[newInd].name = val;\r\n    setMaleArray(tempMale);\r\n    setFemaleArray(tempFemale);\r\n  };\r\n  const handleFemalePreferences = (ind, val) => {\r\n    let tempFemale = [...femaleArray];\r\n    let tempMale = [...maleArray];\r\n    console.log(ind, val, maleArray, femaleArray);\r\n    let newInd = parseInt(ind);\r\n    maleArray[newInd].index.forEach((id, i) => {\r\n      tempFemale[i].preferences[id] = val;\r\n    });\r\n    // maleArray[newInd].name = val;\r\n    tempMale[newInd].name = val;\r\n    setMaleArray(tempMale);\r\n    setFemaleArray(tempFemale);\r\n  };\r\n\r\n  // Bug -> Forgot to update index array of opposite gender & index array of same gender whose preference was lower than current!\r\n  const handleDeleteMaleList = (maleArr, indexArr, idx) => {\r\n    let { tempMale, tempFemale } = removeMaleIndex(\r\n      maleArr,\r\n      femaleArray,\r\n      indexArr,\r\n      idx\r\n    );\r\n    // let tempArr = addMaleIndices(maleArr, tempFemale);\r\n    let tempArr = removeColorAndToggle(tempMale);\r\n    // console.log(tempFemale, tempArr, maleArr);\r\n    setFemaleArray(tempFemale);\r\n    setMaleArray(tempArr);\r\n  };\r\n\r\n  const handleDeleteFemaleList = (femaleArr, indexArr, idx) => {\r\n    let { tempMale, tempFemale } = removeFemaleIndex(\r\n      maleArray,\r\n      femaleArr,\r\n      indexArr,\r\n      idx\r\n    );\r\n    // let tempArr = addFemaleIndices(tempMale, femaleArr);\r\n    let tempArr = removeColorAndToggle(tempFemale);\r\n    // console.log(tempMale, tempArr, femaleArr);\r\n    setMaleArray(tempMale);\r\n    setFemaleArray(tempArr);\r\n  };\r\n\r\n  const handleAddMaleItem = () => {\r\n    let { newMaleArr, newFemaleArr } = addMaleItem(maleArray, femaleArray);\r\n    setMaleArray(newMaleArr);\r\n    setFemaleArray(newFemaleArr);\r\n  };\r\n\r\n  const handleAddFemaleItem = () => {\r\n    let { newMaleArr, newFemaleArr } = addFemaleItem(maleArray, femaleArray);\r\n    setMaleArray(newMaleArr);\r\n    setFemaleArray(newFemaleArr);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <MaleList\r\n        male={maleArray}\r\n        handleFemalePreferences={handleFemalePreferences}\r\n        handleFemaleArr={handleFemaleArr}\r\n        handleDeleteMaleList={handleDeleteMaleList}\r\n        handleAddMaleItem={handleAddMaleItem}\r\n        flagBtn={flagBtn}\r\n        SMPVizActive={SMPVizActive}\r\n        SMPVizDone={SMPVizDone}\r\n        highlightMaleIndex={highlightMaleIndex}\r\n        bgColor={bgLeftColor}\r\n        showAnimationCol={showAnimationCol}\r\n        resetMaleArray={resetMaleArray}\r\n        informer={informer}\r\n        darkMode={darkMode}\r\n      />\r\n      <AnimationCol\r\n        male={entityMale}\r\n        female={entityFemale}\r\n        showFemaleEntity={showFemaleEntity}\r\n        toggleOpacity={toggleOpacity}\r\n        expandMalePreference={expandMalePreference}\r\n        expandFemalePreference={expandFemalePreference}\r\n        scrollMaleIndex={scrollMaleIndex}\r\n        scrollFemaleIndex={scrollFemaleIndex}\r\n        highlightMalePrefIndex={highlightMalePrefIndex}\r\n        highlightFemalePrefIndex={highlightFemalePrefIndex}\r\n        bgColor={bgColor}\r\n        engageIndex={engageIndex}\r\n        showAnimationColor={showAnimationColor}\r\n        SMPVizActive={SMPVizActive}\r\n        darkMode={darkMode}\r\n      />\r\n      <FemaleList\r\n        female={femaleArray}\r\n        handleMalePreferences={handleMalePreferences}\r\n        handleMaleArr={handleMaleArr}\r\n        handleDeleteFemaleList={handleDeleteFemaleList}\r\n        handleAddFemaleItem={handleAddFemaleItem}\r\n        flagBtn={flagBtn}\r\n        SMPVizActive={SMPVizActive}\r\n        SMPVizDone={SMPVizDone}\r\n        highlightFemaleIndex={highlightFemaleIndex}\r\n        bgColor={bgRightColor}\r\n        showAnimationCol={showAnimationCol}\r\n        resetFemaleArray={resetFemaleArray}\r\n        informer={informer}\r\n        darkMode={darkMode}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MainList;\r\n","import styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { RiRestartFill } from \"react-icons/ri\";\r\nimport { ImShuffle } from \"react-icons/im\";\r\nimport { BsSkipForwardFill } from \"react-icons/bs\";\r\nimport { FaStop, FaPlay, FaPause, FaFileUpload, FaSave } from \"react-icons/fa\";\r\n\r\nexport const HeaderContainer = styled.div`\r\n  grid-column-start: 1;\r\n  grid-column-end: column3-end;\r\n  grid-row-start: 2;\r\n  grid-row-end: 2;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`;\r\n\r\nexport const NavContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-left: 70px;\r\n\r\n  a {\r\n    text-decoration: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    &:hover {\r\n      text-decoration: none;\r\n    }\r\n  }\r\n\r\n  .nav-icon-style-true {\r\n    color: #b3b3a9;\r\n    height: 32px;\r\n    width: 32px;\r\n    margin: 0 20px;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      color: #d8d8cd;\r\n    }\r\n  }\r\n\r\n  .nav-icon-style-false {\r\n    color: #545454;\r\n    height: 32px;\r\n    width: 32px;\r\n    margin: 0 20px;\r\n    cursor: pointer;\r\n    transition: 0.1s ease-in;\r\n\r\n    &:hover {\r\n      color: #000000;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const StyledLink = styled(Link)`\r\n  text-decoration: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  &:hover {\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nexport const IconContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-left: 75px;\r\n  border: ${({ state }) => (state ? \"3px solid grey\" : \"3px solid #6f6f6f\")};\r\n  border-radius: 28px;\r\n  height: 60px;\r\n\r\n  label {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .icon-style-true {\r\n    color: #a9bf20;\r\n    height: 25px;\r\n    width: 25px;\r\n    margin: 0 12px;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      color: #dcff00;\r\n    }\r\n  }\r\n  .icon-style-false {\r\n    color: #545454;\r\n    height: 25px;\r\n    width: 25px;\r\n    margin: 0 12px;\r\n    cursor: pointer;\r\n    transition: 0.1s ease-in;\r\n\r\n    &:hover {\r\n      color: #000000;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ToggleContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-left: 125px;\r\n`;\r\n\r\nexport const Title = styled.h3`\r\n  color: ${({ state }) => (state ? \"grey\" : \"#5f5f5f\")};\r\n  font-weight: 900;\r\n  margin-left: 10px;\r\n  opacity: ${({ active }) => (active ? \"0.2\" : \"1\")};\r\n  cursor: ${({ active }) => (active ? \"\" : \"pointer\")};\r\n`;\r\n\r\nexport const StyledRiRestartFill = styled(RiRestartFill)`\r\n  color: ${({ active, state }) =>\r\n    active ? (state ? \"#b3b3a9\" : \"#545454\") : state ? \"#616161\" : \"#adadad\"};\r\n  height: 30px;\r\n  width: 30px;\r\n  margin: 0 12px;\r\n  cursor: ${({ active }) => (active ? \"pointer\" : \"\")};\r\n\r\n  &:hover {\r\n    color: ${({ active, state }) =>\r\n      active ? (state ? \"#d8d8cd\" : \"#000000\") : state ? \"#616161\" : \"#adadad\"};\r\n    transition: 0.1s ease-in;\r\n  }\r\n`;\r\n\r\nexport const Dummy = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  opacity: ${({ active }) => (active ? \"0.3\" : \"1\")};\r\n`;\r\nexport const StyledImShuffle = styled(ImShuffle)`\r\n  height: 25px;\r\n  width: 25px;\r\n  margin: 0 12px;\r\n  color: ${({ active, state }) =>\r\n    active ? (state ? \"#b3b3a9\" : \"#545454\") : state ? \"#616161\" : \"#adadad\"};\r\n  cursor: ${({ active }) => (active ? \"pointer\" : \"\")};\r\n\r\n  &:hover {\r\n    color: ${({ active, state }) =>\r\n      active ? (state ? \"#d8d8cd\" : \"#000000\") : state ? \"#616161\" : \"#adadad\"};\r\n    transition: 0.1s ease-in;\r\n  }\r\n`;\r\n\r\nexport const StyledFaPlay = styled(FaPlay)`\r\n  height: 25px;\r\n  width: 25px;\r\n  margin: 0 12px;\r\n  color: ${({ state }) => (state ? \"#b3b3a9\" : \"#545454\")};\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    color: ${({ state }) => (state ? \"#d8d8cd\" : \"#000000\")};\r\n    transition: 0.1s ease-in;\r\n  }\r\n`;\r\n\r\nexport const StyledBsSkipForwardFill = styled(BsSkipForwardFill)`\r\n  height: 25px;\r\n  width: 25px;\r\n  margin: 0 12px;\r\n  color: ${({ active, state }) =>\r\n    active ? (state ? \"#b3b3a9\" : \"#545454\") : state ? \"#616161\" : \"#adadad\"};\r\n  cursor: ${({ active }) => (active ? \"pointer\" : \"\")};\r\n\r\n  &:hover {\r\n    color: ${({ active, state }) =>\r\n      active ? (state ? \"#d8d8cd\" : \"#000000\") : state ? \"#616161\" : \"#adadad\"};\r\n    transition: 0.1s ease-in;\r\n  }\r\n`;\r\n\r\nexport const StyledFaPause = styled(FaPause)`\r\n  height: 25px;\r\n  width: 25px;\r\n  margin: 0 12px;\r\n  color: ${({ active, state, isPaused }) =>\r\n    active\r\n      ? isPaused\r\n        ? state\r\n          ? \"#fff7ed\"\r\n          : \"#0c0c0c\"\r\n        : state\r\n        ? \"#b3b3a9\"\r\n        : \"#545454\"\r\n      : state\r\n      ? \"#616161\"\r\n      : \"#adadad\"};\r\n  cursor: ${({ active }) => (active ? \"pointer\" : \"\")};\r\n\r\n  &:hover {\r\n    color: ${({ active, state, isPaused }) =>\r\n      active\r\n        ? isPaused\r\n          ? state\r\n            ? \"#ffffff\"\r\n            : \"black\"\r\n          : state\r\n          ? \"#d8d8cd\"\r\n          : \"#000000\"\r\n        : state\r\n        ? \"#616161\"\r\n        : \"#adadad\"};\r\n    transition: 0.1s ease-in;\r\n  }\r\n`;\r\n\r\nexport const StyledFaStop = styled(FaStop)`\r\n  height: 25px;\r\n  width: 25px;\r\n  margin: 0 12px;\r\n  color: ${({ active, state }) =>\r\n    active ? (state ? \"#b3b3a9\" : \"#545454\") : state ? \"#616161\" : \"#adadad\"};\r\n  cursor: ${({ active }) => (active ? \"pointer\" : \"\")};\r\n\r\n  &:hover {\r\n    color: ${({ active, state }) =>\r\n      active ? (state ? \"#d8d8cd\" : \"#000000\") : state ? \"#616161\" : \"#adadad\"};\r\n    transition: 0.1s ease-in;\r\n  }\r\n`;\r\n\r\nexport const StyledFaSave = styled(FaSave)`\r\n  height: 25px;\r\n  width: 25px;\r\n  margin: 0 12px;\r\n  color: ${({ active, state }) =>\r\n    active ? (state ? \"#b3b3a9\" : \"#545454\") : state ? \"#616161\" : \"#adadad\"};\r\n  cursor: ${({ active }) => (active ? \"pointer\" : \"\")};\r\n\r\n  &:hover {\r\n    color: ${({ active, state }) =>\r\n      active ? (state ? \"#d8d8cd\" : \"#000000\") : state ? \"#616161\" : \"#adadad\"};\r\n    transition: 0.1s ease-in;\r\n  }\r\n`;\r\n\r\nexport const StyledFaFileUpload = styled(FaFileUpload)`\r\n  height: 25px;\r\n  width: 25px;\r\n  margin: 0 12px;\r\n  color: ${({ active, state }) =>\r\n    active ? (state ? \"#b3b3a9\" : \"#545454\") : state ? \"#616161\" : \"#adadad\"};\r\n  cursor: ${({ active }) => (active ? \"pointer\" : \"\")};\r\n\r\n  &:hover {\r\n    color: ${({ active, state }) =>\r\n      active ? (state ? \"#d8d8cd\" : \"#000000\") : state ? \"#616161\" : \"#adadad\"};\r\n    transition: 0.1s ease-in;\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  createMuiTheme,\r\n  MuiThemeProvider,\r\n  withStyles,\r\n} from \"@material-ui/core/styles\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { FaInfoCircle, FaGithub } from \"react-icons/fa\";\r\n\r\nimport {\r\n  HeaderContainer,\r\n  NavContainer,\r\n  IconContainer,\r\n  ToggleContainer,\r\n  Title,\r\n  Dummy,\r\n  StyledRiRestartFill,\r\n  StyledImShuffle,\r\n  StyledFaPlay,\r\n  StyledFaPause,\r\n  StyledBsSkipForwardFill,\r\n  StyledFaStop,\r\n  StyledFaSave,\r\n  StyledFaFileUpload,\r\n} from \"./HeaderElements\";\r\n\r\nconst theme = createMuiTheme({\r\n  overrides: {\r\n    MuiTooltip: {\r\n      tooltip: {\r\n        fontSize: \"1em\",\r\n        color: \"#ececec\",\r\n        backgroundColor: \"#404040\",\r\n        fontFamily: '\"Baloo Chettan 2\",cursive',\r\n        maxWidth: \"200px\",\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst StyledSwitch = withStyles((theme) => ({\r\n  root: {\r\n    width: 52,\r\n    height: 26,\r\n    padding: 0,\r\n    margin: theme.spacing(1),\r\n  },\r\n  switchBase: {\r\n    color: \"#4a4a4a\",\r\n    padding: 1,\r\n    \"&$checked\": {\r\n      transform: \"translateX(26px)\",\r\n      color: theme.palette.common.white,\r\n      \"& + $track\": {\r\n        backgroundColor: \"#4a4a4a\",\r\n        opacity: 1,\r\n        border: \"none\",\r\n      },\r\n    },\r\n    \"&$focusVisible $thumb\": {\r\n      color: \"#4a4a4a\",\r\n      border: \"6px solid #fff\",\r\n    },\r\n  },\r\n  thumb: {\r\n    width: 24,\r\n    height: 24,\r\n  },\r\n  track: {\r\n    borderRadius: 26 / 2,\r\n    border: `0px solid white`,\r\n    backgroundColor: theme.palette.grey[200],\r\n    opacity: 1,\r\n    transition: theme.transitions.create([\"background-color\", \"border\"]),\r\n  },\r\n  checked: {},\r\n  focusVisible: {},\r\n}))(({ classes, ...props }) => {\r\n  return (\r\n    <Switch\r\n      focusVisibleClassName={classes.focusVisible}\r\n      disableRipple\r\n      classes={{\r\n        root: classes.root,\r\n        switchBase: classes.switchBase,\r\n        thumb: classes.thumb,\r\n        track: classes.track,\r\n        checked: classes.checked,\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\n\r\nconst Header = ({\r\n  pause,\r\n  SMPVizActive,\r\n  SMPVizDone,\r\n  handleChangeBgColor,\r\n  handleRandomConfig,\r\n  handleReset,\r\n  handleSaveFile,\r\n  handleInputFile,\r\n  handlePlay,\r\n  handlePause,\r\n  handleSkip,\r\n  handleStop,\r\n  handleDarkMode,\r\n}) => {\r\n  const [state, setState] = useState(true);\r\n  const [active, setActive] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let f = SMPVizActive;\r\n    setActive(f);\r\n  }, [SMPVizActive]);\r\n\r\n  const handleChange = () => {\r\n    if (active) return;\r\n    handleChangeBgColor(!state);\r\n    handleDarkMode(!state);\r\n    setState(!state);\r\n  };\r\n  const handleUploadFile = (event) => {\r\n    handleInputFile(event, true);\r\n  };\r\n  return (\r\n    <HeaderContainer>\r\n      <NavContainer>\r\n        <FaInfoCircle className={`nav-icon-style-${state}`} />\r\n        <a\r\n          href=\"https://github.com/Eric761/stable-matching-algo-viz\"\r\n          target=\"_blank\"\r\n        >\r\n          <FaGithub className={`nav-icon-style-${state}`} />\r\n        </a>\r\n      </NavContainer>\r\n      <IconContainer state={state}>\r\n        <StyledRiRestartFill\r\n          onClick={() => {\r\n            if (active) return;\r\n            handleReset(true);\r\n          }}\r\n          active={!active}\r\n          state={state}\r\n        />\r\n        <StyledImShuffle\r\n          onClick={() => {\r\n            if (active) return;\r\n            handleRandomConfig(true);\r\n          }}\r\n          active={!active}\r\n          state={state}\r\n        />\r\n        <StyledFaPlay onClick={() => handlePlay(true)} state={state} />\r\n        <StyledBsSkipForwardFill\r\n          onClick={() => {\r\n            if (!active || SMPVizDone) return;\r\n            handleSkip(true);\r\n          }}\r\n          active={active && !SMPVizDone}\r\n          state={state}\r\n        />\r\n        <StyledFaPause\r\n          onClick={() => {\r\n            if (!active) return;\r\n            handlePause(true);\r\n          }}\r\n          active={active}\r\n          state={state}\r\n          isPaused={pause && !SMPVizDone}\r\n        />\r\n        <StyledFaStop\r\n          onClick={() => {\r\n            if (!active) return;\r\n            handleStop(true);\r\n          }}\r\n          active={active}\r\n          state={state}\r\n        />\r\n        <StyledFaSave\r\n          onClick={() => {\r\n            if (active) return;\r\n            handleSaveFile(true);\r\n          }}\r\n          active={!active}\r\n          state={state}\r\n        />\r\n        <label for=\"upload-file\">\r\n          <StyledFaFileUpload active={!active} state={state} />\r\n        </label>\r\n        {!active && (\r\n          <input\r\n            id=\"upload-file\"\r\n            type=\"file\"\r\n            accept=\"application/json\"\r\n            onChange={handleUploadFile}\r\n          />\r\n        )}\r\n      </IconContainer>\r\n      <ToggleContainer>\r\n        {active ? (\r\n          <MuiThemeProvider theme={theme}>\r\n            <Tooltip\r\n              disableFocusListener\r\n              disableTouchListener\r\n              title={`Use stop button to switch to ${\r\n                state ? \"light\" : \"dark\"\r\n              } mode !`}\r\n              placement=\"left\"\r\n              arrow\r\n            >\r\n              <Dummy active={active}>\r\n                <StyledSwitch checked={state} onChange={handleChange} />\r\n              </Dummy>\r\n            </Tooltip>\r\n          </MuiThemeProvider>\r\n        ) : (\r\n          <Dummy active={active}>\r\n            <StyledSwitch checked={state} onChange={handleChange} />\r\n          </Dummy>\r\n        )}\r\n        <Title state={state} active={active} onClick={handleChange}>\r\n          {state ? \"Switch to light\" : \"Switch to dark\"}\r\n        </Title>\r\n      </ToggleContainer>\r\n    </HeaderContainer>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { ToastContainer, Zoom } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"./customStyle.css\";\r\n\r\nconst Notifier = () => {\r\n  return (\r\n    <NotifierContainer>\r\n      <ToastContainer\r\n        position=\"bottom-center\"\r\n        autoClose={5000}\r\n        hideProgressBar={true}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        transition={Zoom}\r\n      />\r\n    </NotifierContainer>\r\n  );\r\n};\r\n\r\nconst NotifierContainer = styled.div`\r\n  background-color: \"transparent\";\r\n  grid-column-start: 1;\r\n  grid-column-end: column3-end;\r\n  grid-row-start: 1;\r\n  grid-row-end: 1;\r\n`;\r\n\r\nexport default Notifier;\r\n","import styled from \"styled-components\";\r\nimport { Paper, Input } from \"@material-ui/core\";\r\nimport { FaChevronCircleDown, FaChevronCircleRight } from \"react-icons/fa\";\r\nimport { RiDeleteBack2Fill } from \"react-icons/ri\";\r\nimport { MdDragHandle, MdAddCircle } from \"react-icons/md\";\r\n\r\nexport const LeftContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  height: 100%;\r\n\r\n  #male {\r\n    grid-column-start: 1;\r\n    grid-column-end: 1;\r\n    grid-row-start: 3;\r\n    grid-row-end: 3;\r\n  }\r\n`;\r\n\r\nexport const StyledPaper = styled(Paper)`\r\n  border-radius: 30px !important;\r\n  min-height: ${(props) => (props.flag ? \"inherit\" : \"55px\")}!important;\r\n  width: 420px;\r\n  margin: 15px auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: ${({ highlight, bgColor, darkMode }) =>\r\n    darkMode\r\n      ? bgColor !== \"\"\r\n        ? bgColor\r\n        : highlight\r\n        ? \"linear-gradient( 45deg , black, #b1f6ff)\"\r\n        : \"linear-gradient( 45deg , black, #fffbf1)\"\r\n      : bgColor !== \"\"\r\n      ? bgColor\r\n      : highlight\r\n      ? \"linear-gradient(45deg, #54d4fd, #aaeaff) !important\"\r\n      : \"\"};\r\n  box-shadow: 0px 8px 6px -3px rgb(0 0 0 / 20%), 0px 9px 7px 1px rgb(0 0 0 / 5%),\r\n    0px 4px 18px 3px rgb(0 0 0 / 10%) !important;\r\n`;\r\n\r\nexport const AnimationStyledPaper = styled(Paper)`\r\n  border-radius: 30px !important;\r\n  min-height: ${(props) => (props.flag ? \"inherit\" : \"55px\")}!important;\r\n  width: 420px;\r\n  margin: 15px auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  opacity: ${({ styleElementFlag }) => (styleElementFlag ? \"1\" : \"0\")};\r\n  background: ${({ highlight, bgColor, engageIndex, toggle, darkMode }) =>\r\n    darkMode\r\n      ? highlight\r\n        ? engageIndex === -1\r\n          ? \"linear-gradient( 45deg , black, #b1f6ff)\"\r\n          : \"linear-gradient(45deg,black,#ff8535) !important\"\r\n        : toggle\r\n        ? \"linear-gradient( 45deg , black, #fffbf1)\"\r\n        : bgColor\r\n      : highlight\r\n      ? engageIndex === -1\r\n        ? \"linear-gradient(45deg, #54d4fd, #aaeaff) !important\" // blue variant\r\n        : \"linear-gradient(45deg, #f79f00, #ffd174) !important\" // orange variant\r\n      : toggle\r\n      ? \"\"\r\n      : bgColor};\r\n\r\n  box-shadow: 0px 8px 6px -3px rgb(0 0 0 / 20%), 0px 9px 7px 1px rgb(0 0 0 / 5%),\r\n    0px 4px 18px 3px rgb(0 0 0 / 10%) !important;\r\n`;\r\n\r\nexport const List = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  cursor: ${({ pointer }) => (pointer ? \"default\" : \"pointer\")};\r\n  padding: 0 3px;\r\n  border-radius: 30px;\r\n  border-bottom-left-radius: ${({ flag }) => (flag ? \"0px\" : \"\")};\r\n  border-bottom-right-radius: ${({ flag }) => (flag ? \"0px\" : \"\")};\r\n  padding-top: ${({ flag }) => (flag ? \"6px\" : \"\")};\r\n  padding-bottom: ${({ flag }) => (flag ? \"5px\" : \"\")};\r\n  background-color: ${({ flag, darkMode }) =>\r\n    flag ? (darkMode ? \"\" : \"lightblue\") : \"\"};\r\n  background: ${({ flag, darkMode }) =>\r\n    flag ? (darkMode ? \"linear-gradient( 45deg , black, #c5c5c5)\" : \"\") : \"\"};\r\n`;\r\n\r\nexport const AnimationList = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  cursor: ${({ pointer }) => (pointer ? \"default\" : \"pointer\")};\r\n  padding: 0 3px;\r\n  border-radius: 30px;\r\n  border-bottom-left-radius: ${({ flag }) => (flag ? \"0px\" : \"\")};\r\n  border-bottom-right-radius: ${({ flag }) => (flag ? \"0px\" : \"\")};\r\n  padding-top: ${({ flag }) => (flag ? \"6px\" : \"\")};\r\n  padding-bottom: ${({ flag }) => (flag ? \"5px\" : \"\")};\r\n  background: ${({ flag, engageIndex, showAnimationColor, darkMode }) =>\r\n    darkMode\r\n      ? flag\r\n        ? showAnimationColor\r\n          ? \"linear-gradient(45deg,black,#b9ffc7)\"\r\n          : engageIndex === -1\r\n          ? \"linear-gradient( 45deg , black, #b1f6ff)\"\r\n          : \"linear-gradient( 45deg , black, #ff8535)\"\r\n        : \"\"\r\n      : flag\r\n      ? showAnimationColor\r\n        ? \"linear-gradient(45deg,#00a460,#b0ffc0)\" // green variant\r\n        : engageIndex === -1\r\n        ? \"linear-gradient(45deg, #54d4fd, #aaeaff)\"\r\n        : \"linear-gradient(45deg, #f79f00, #ffd174)\"\r\n      : \"\"};\r\n`;\r\n\r\nexport const Name = styled.span`\r\n  font-size: 25px;\r\n  font-weight: 550;\r\n  font-family: \"Baloo Chettan 2\", cursive;\r\n  color: ${({ darkMode }) => (darkMode ? \"white\" : \"#3e3e3e\")};\r\n  text-align: left;\r\n  cursor: ${({ pointer }) => (pointer ? \"default\" : \"pointer\")};\r\n  text-transform: capitalize;\r\n`;\r\n\r\nexport const PreferenceList = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  cursor: ${({ animation }) => (animation ? \"default\" : \"grab\")};\r\n  padding: 8px;\r\n  padding-left: 5px;\r\n  min-height: 53px;\r\n  background-color: ${({ styleFlag, darkMode }) =>\r\n    styleFlag ? (darkMode ? \"#302020\" : \"darkgrey\") : \"\"};\r\n  border-bottom-left-radius: ${({ ind, len }) =>\r\n    ind === len - 1 ? \"30px\" : \"\"};\r\n  border-bottom-right-radius: ${({ ind, len }) =>\r\n    ind === len - 1 ? \"30px\" : \"\"};\r\n  &:hover {\r\n    background-color: ${({ active, darkMode }) =>\r\n      active ? \"\" : darkMode ? \"#665050\" : \"lightgrey\"};\r\n  }\r\n  background-color: ${({\r\n    highlight,\r\n    engageHighlight,\r\n    showAnimationColor,\r\n    darkMode,\r\n  }) =>\r\n    darkMode\r\n      ? engageHighlight\r\n        ? \"#b56a3a\"\r\n        : highlight\r\n        ? showAnimationColor\r\n          ? \"#64a070\"\r\n          : \"#665050\"\r\n        : \"\"\r\n      : engageHighlight\r\n      ? \"#ffbb40\"\r\n      : highlight\r\n      ? showAnimationColor\r\n        ? \"#30ffa9\"\r\n        : \"lightgrey\"\r\n      : \"\"};\r\n`;\r\n\r\nexport const StyledInput = styled(Input)`\r\n  &:before {\r\n    border-bottom: 0px !important;\r\n  }\r\n  &:after {\r\n    border-bottom: 0px !important;\r\n  }\r\n  input {\r\n    font-size: 25px;\r\n    font-weight: 550;\r\n    font-family: \"Baloo Chettan 2\", cursive;\r\n    color: ${({ darkMode, disabled, done }) =>\r\n      darkMode\r\n        ? \"white\"\r\n        : disabled\r\n        ? done\r\n          ? \"#3e3e3e\"\r\n          : \"#505050\"\r\n        : \"#6f6f6f\"};\r\n    text-align: left;\r\n    cursor: ${({ pointer }) => (pointer ? \"default\" : \"pointer\")};\r\n    text-transform: capitalize;\r\n  }\r\n`;\r\n\r\nexport const StyledFaChevronCircleRight = styled(FaChevronCircleRight)`\r\n  height: ${({ animation }) => (animation ? \"22px\" : \"25px\")};\r\n  width: ${({ animation }) => (animation ? \"22px\" : \"25px\")};\r\n  margin: 0 10px;\r\n  margin-right: 22px;\r\n  color: ${({ darkMode }) => (darkMode ? \"#b3b3a9\" : \"#4a4a4a\")};\r\n  cursor: ${({ pointer }) => (pointer ? \"default\" : \"pointer\")};\r\n\r\n  &:hover {\r\n    color: ${({ darkMode, play }) =>\r\n      darkMode ? (play ? \"#b3b3a9\" : \"#d8d8cd\") : play ? \"#4a4a4a\" : \"#000000\"};\r\n  }\r\n`;\r\n\r\nexport const StyledFaChevronCircleDown = styled(FaChevronCircleDown)`\r\n  height: ${({ animation }) => (animation ? \"22px\" : \"25px\")};\r\n  width: ${({ animation }) => (animation ? \"22px\" : \"25px\")};\r\n  margin: 0 10px;\r\n  margin-right: 22px;\r\n  margin-left: ${({ animation }) => (animation ? \"12px\" : \"10px\")};\r\n  color: ${({ darkMode }) => (darkMode ? \"#b3b3a9\" : \"#4a4a4a\")};\r\n  cursor: ${({ pointer }) => (pointer ? \"default\" : \"pointer\")};\r\n\r\n  &:hover {\r\n    color: ${({ darkMode, play }) =>\r\n      darkMode ? (play ? \"#b3b3a9\" : \"#d8d8cd\") : play ? \"#4a4a4a\" : \"#000000\"};\r\n  }\r\n`;\r\n\r\nexport const StyledRiDeleteBack2Fill = styled(RiDeleteBack2Fill)`\r\n  height: 30px;\r\n  width: 30px;\r\n  margin: 0 12px;\r\n  margin-left: 20px;\r\n  color: ${({ darkMode }) => (darkMode ? \"#232323\" : \"#4a4a4a\")};\r\n  cursor: ${({ pointer }) => (pointer ? \"default\" : \"pointer\")};\r\n  /* opacity: ${({ play }) => (play ? \"0\" : \"1\")}; */\r\n\r\n  &:hover {\r\n    color: ${({ darkMode, play }) =>\r\n      darkMode ? (play ? \"#232323\" : \"#101010\") : play ? \"#4a4a4a\" : \"#000000\"};\r\n  }\r\n`;\r\n\r\nexport const StyledMdDragHandle = styled(MdDragHandle)`\r\n  height: 25px;\r\n  width: 25px;\r\n  margin-left: 8px;\r\n  margin-right: 22px;\r\n  color: ${({ darkMode }) => (darkMode ? \"black\" : \"#4a4a4a\")};\r\n  cursor: grab;\r\n  display: ${({ styleFlag }) => (styleFlag ? \"none\" : \"\")};\r\n\r\n  &:hover {\r\n    color: #000000;\r\n  }\r\n`;\r\n\r\nexport const ListItem = styled.span`\r\n  font-size: 25px;\r\n  font-weight: 550;\r\n  font-family: \"Baloo Chettan 2\", cursive;\r\n  color: ${({ darkMode, disabled }) =>\r\n    darkMode ? \"white\" : disabled ? \"#505050\" : \"#6f6f6f\"};\r\n  text-transform: capitalize;\r\n  display: ${({ styleFlag }) => (styleFlag ? \"none\" : \"\")};\r\n  margin-left: ${({ animation }) => (animation ? \"54px\" : \"\")};\r\n`;\r\n\r\nexport const StyledMdAddCircle = styled(MdAddCircle)`\r\n  height: 50px;\r\n  width: 50px;\r\n  color: ${({ darkMode }) => (darkMode ? \"#b3b3a9\" : \"#4a4a4a\")};\r\n  margin-left: 200px;\r\n  margin-top: 18px;\r\n  cursor: ${({ pointer }) => (pointer ? \"default\" : \"pointer\")};\r\n  &:hover {\r\n    color: ${({ darkMode, play }) =>\r\n      darkMode ? (play ? \"#b3b3a9\" : \"#d8d8cd\") : play ? \"#4a4a4a\" : \"#000000\"};\r\n  }\r\n`;\r\n","// Minimum number of entity for arrangement to be valid!\r\nconst minimumEntityCount = 1;\r\n// Maximum number of entity for arrangement to be valid!\r\nconst maximumEntityCount = 8;\r\n// Maximum number of characters a name of an entity has!\r\nconst maximumCharCount = 15;\r\n\r\n// 100 male names sorted alphabetically, used for random initializations!\r\nconst maleNames = [\r\n  \"Adam\",\r\n  \"Apollo\",\r\n  \"Archie\",\r\n  \"Bailey\",\r\n  \"Bandit\",\r\n  \"Baxter\",\r\n  \"Bear\",\r\n  \"Beau\",\r\n  \"Benji\",\r\n  \"Benny\",\r\n  \"Bentley\",\r\n  \"Blue\",\r\n  \"Bo\",\r\n  \"Boomer\",\r\n  \"Brady\",\r\n  \"Brody\",\r\n  \"Bruno\",\r\n  \"Brutus\",\r\n  \"Bubba\",\r\n  \"Buddy\",\r\n  \"Buster\",\r\n  \"Champ\",\r\n  \"Chance\",\r\n  \"Charlie\",\r\n  \"Chase\",\r\n  \"Chester\",\r\n  \"Chico\",\r\n  \"Chiku\",\r\n  \"Cody\",\r\n  \"Cooper\",\r\n  \"Copper\",\r\n  \"Dexter\",\r\n  \"Dom\",\r\n  \"Duke\",\r\n  \"Elvis\",\r\n  \"Eric\",\r\n  \"Finn\",\r\n  \"Frankie\",\r\n  \"Gambit\",\r\n  \"George\",\r\n  \"Gizmo\",\r\n  \"Gunner\",\r\n  \"Gus\",\r\n  \"Hank\",\r\n  \"Henry\",\r\n  \"Hunter\",\r\n  \"Jack\",\r\n  \"Jackson\",\r\n  \"Jake\",\r\n  \"Jasper\",\r\n  \"Jax\",\r\n  \"Jov\",\r\n  \"Joey\",\r\n  \"Kobe\",\r\n  \"Leo\",\r\n  \"Loki\",\r\n  \"Louie\",\r\n  \"Luke\",\r\n  \"Mac\",\r\n  \"Matthew\",\r\n  \"Max\",\r\n  \"Mickey\",\r\n  \"Milo\",\r\n  \"Moose\",\r\n  \"Murphy\",\r\n  \"Nathan\",\r\n  \"Oliver\",\r\n  \"Ollie\",\r\n  \"Oreo\",\r\n  \"Oscar\",\r\n  \"Otis\",\r\n  \"Prince\",\r\n  \"Rex\",\r\n  \"Riley\",\r\n  \"Rocco\",\r\n  \"Rocky\",\r\n  \"Romeo\",\r\n  \"Roscoe\",\r\n  \"Rudy\",\r\n  \"Rufus\",\r\n  \"Rusty\",\r\n  \"Sam\",\r\n  \"Sammy\",\r\n  \"Samson\",\r\n  \"Scooter\",\r\n  \"Scout\",\r\n  \"Simba\",\r\n  \"Sparky\",\r\n  \"Spike\",\r\n  \"Tank\",\r\n  \"Teddy\",\r\n  \"Thor\",\r\n  \"Toby\",\r\n  \"Tom\",\r\n  \"Tucker\",\r\n  \"Tyson\",\r\n  \"Walter\",\r\n  \"Winston\",\r\n  \"Zeus\",\r\n  \"Ziggy\",\r\n];\r\n\r\n// 100 female names sorted alphabetically, used for random initializations!\r\nconst femaleNames = [\r\n  \"Abby\",\r\n  \"Allie\",\r\n  \"Angel\",\r\n  \"Annie\",\r\n  \"Athena\",\r\n  \"Ava\",\r\n  \"Baby\",\r\n  \"Bella\",\r\n  \"Belle\",\r\n  \"Bonnie\",\r\n  \"Brandy\",\r\n  \"Cali\",\r\n  \"Callie\",\r\n  \"Casey\",\r\n  \"Chloe\",\r\n  \"Cleo\",\r\n  \"Coco\",\r\n  \"Cocoa\",\r\n  \"Cookie\",\r\n  \"Daisy\",\r\n  \"Dakota\",\r\n  \"Dixie\",\r\n  \"Ella\",\r\n  \"Ellie\",\r\n  \"Emma\",\r\n  \"Gigi\",\r\n  \"Ginger\",\r\n  \"Grace\",\r\n  \"Gracie\",\r\n  \"Hannah\",\r\n  \"Harley\",\r\n  \"Hazel\",\r\n  \"Heidi\",\r\n  \"Holly\",\r\n  \"Honey\",\r\n  \"Izzy\",\r\n  \"Jasmine\",\r\n  \"Joan\",\r\n  \"Josie\",\r\n  \"Katie\",\r\n  \"Kona\",\r\n  \"Lacey\",\r\n  \"Lady\",\r\n  \"Layla\",\r\n  \"Lexi\",\r\n  \"Lexie\",\r\n  \"Lilly\",\r\n  \"Lily\",\r\n  \"Lola\",\r\n  \"Lucky\",\r\n  \"Lucy\",\r\n  \"Lulu\",\r\n  \"Luna\",\r\n  \"Macy\",\r\n  \"Maddie\",\r\n  \"Maeve\",\r\n  \"Maggie\",\r\n  \"Marley\",\r\n  \"Maya\",\r\n  \"Mia\",\r\n  \"Millie\",\r\n  \"Mimi\",\r\n  \"Minnie\",\r\n  \"Missy\",\r\n  \"Misty\",\r\n  \"Mocha\",\r\n  \"Molly\",\r\n  \"Mystique\",\r\n  \"Nala\",\r\n  \"Nikki\",\r\n  \"Ola\",\r\n  \"Olivia\",\r\n  \"Peanut\",\r\n  \"Pebbles\",\r\n  \"Penny\",\r\n  \"Pepper\",\r\n  \"Phoebe\",\r\n  \"Piper\",\r\n  \"Princess\",\r\n  \"Rosie\",\r\n  \"Roxie\",\r\n  \"Roxy\",\r\n  \"Ruby\",\r\n  \"Sadie\",\r\n  \"Sally\",\r\n  \"Samantha\",\r\n  \"Sasha\",\r\n  \"Sassy\",\r\n  \"Shadow\",\r\n  \"Shelby\",\r\n  \"Sierra\",\r\n  \"Sophie\",\r\n  \"Stella\",\r\n  \"Sugar\",\r\n  \"Sylvie\",\r\n  \"Trixie\",\r\n  \"Willow\",\r\n  \"Winnie\",\r\n  \"Zoe\",\r\n  \"Zoya\",\r\n];\r\n\r\n// Initial names taken ->\r\n// Male: Baxter,Eric,Jov,Loki,Otis\r\n// Female: Emma,Jasmine,Maeve,Sylvie,Zoe\r\n\r\n// Default arrangement\r\nconst defaultArrangement = {\r\n  male: [\r\n    {\r\n      name: \"Chiku\",\r\n      preferences: [\"Emma\", \"Jasmine\", \"Maeve\", \"Sylvie\", \"Zoe\"],\r\n    },\r\n    {\r\n      name: \"Eric\",\r\n      preferences: [\"Zoe\", \"Maeve\", \"Sylvie\", \"Jasmine\", \"Emma\"],\r\n    },\r\n    {\r\n      name: \"Jov\",\r\n      preferences: [\"Jasmine\", \"Zoe\", \"Maeve\", \"Emma\", \"Sylvie\"],\r\n    },\r\n    {\r\n      name: \"Loki\",\r\n      preferences: [\"Sylvie\", \"Maeve\", \"Jasmine\", \"Emma\", \"Zoe\"],\r\n    },\r\n    {\r\n      name: \"Otis\",\r\n      preferences: [\"Maeve\", \"Jasmine\", \"Emma\", \"Sylvie\", \"Zoe\"],\r\n    },\r\n  ],\r\n  female: [\r\n    {\r\n      name: \"Emma\",\r\n      preferences: [\"Chiku\", \"Eric\", \"Jov\", \"Loki\", \"Otis\"],\r\n    },\r\n    {\r\n      name: \"Jasmine\",\r\n      preferences: [\"Loki\", \"Jov\", \"Eric\", \"Chiku\", \"Otis\"],\r\n    },\r\n    {\r\n      name: \"Maeve\",\r\n      preferences: [\"Eric\", \"Otis\", \"Loki\", \"Jov\", \"Chiku\"],\r\n    },\r\n    {\r\n      name: \"Sylvie\",\r\n      preferences: [\"Loki\", \"Otis\", \"Chiku\", \"Eric\", \"Jov\"],\r\n    },\r\n    {\r\n      name: \"Zoe\",\r\n      preferences: [\"Eric\", \"Jov\", \"Loki\", \"Otis\", \"Chiku\"],\r\n    },\r\n  ],\r\n};\r\n\r\nexport {\r\n  minimumEntityCount,\r\n  maximumEntityCount,\r\n  maximumCharCount,\r\n  defaultArrangement,\r\n  maleNames,\r\n  femaleNames,\r\n};\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport {\r\n  LeftContainer,\r\n  StyledPaper,\r\n  List,\r\n  PreferenceList,\r\n  ListItem,\r\n  StyledInput,\r\n  StyledFaChevronCircleRight,\r\n  StyledFaChevronCircleDown,\r\n  StyledRiDeleteBack2Fill,\r\n  StyledMdDragHandle,\r\n  StyledMdAddCircle,\r\n} from \"../MainListElements\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport {\r\n  minimumEntityCount,\r\n  maximumEntityCount,\r\n  maximumCharCount,\r\n} from \"../../helper/arrangement\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nconst MaleList = ({\r\n  male,\r\n  handleFemalePreferences,\r\n  handleFemaleArr,\r\n  handleDeleteMaleList,\r\n  handleAddMaleItem,\r\n  flagBtn,\r\n  SMPVizActive,\r\n  SMPVizDone,\r\n  highlightMaleIndex,\r\n  bgColor,\r\n  showAnimationCol,\r\n  resetMaleArray,\r\n  informer,\r\n  darkMode,\r\n}) => {\r\n  let obj = male.map((elem) => {\r\n    return { ...elem, toggle: false, color: \"\" };\r\n  });\r\n  // console.log(obj);\r\n\r\n  const [maleArr, setMaleArr] = useState(obj);\r\n  const [dragging, setDragging] = useState(false);\r\n  const dragItem = useRef();\r\n  const dragItemNode = useRef();\r\n  // const myRef = useRef(new Array());\r\n\r\n  useEffect(() => {\r\n    if (highlightMaleIndex !== -1) {\r\n      // window.scrollTo(0, myRef.current[highlightMaleIndex].offsetTop);\r\n      let maleEntity = document.getElementsByClassName(\r\n        `male-${highlightMaleIndex}`\r\n      );\r\n      console.log(maleEntity[0]);\r\n      maleEntity[0].parentNode.parentNode.parentNode.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"nearest\",\r\n        inline: \"center\",\r\n      });\r\n    }\r\n    if (Object.keys(bgColor).length !== 0) {\r\n      let ar = JSON.parse(JSON.stringify(maleArr));\r\n      ar[bgColor.index].color = bgColor.color;\r\n      setMaleArr(ar);\r\n    }\r\n  }, [highlightMaleIndex, bgColor]);\r\n\r\n  // It's not updating to obj while re-rendering wrt parent component, So I returned a new array from handleDeleteMaleList fn !!\r\n  // Now, Fixed !!\r\n  useEffect(() => {\r\n    if (flagBtn) {\r\n      maleArr.forEach((item, ind) => {\r\n        obj[ind].toggle = item.toggle;\r\n      });\r\n    }\r\n    setMaleArr(obj);\r\n  }, [male]);\r\n  useEffect(() => {\r\n    if (resetMaleArray || SMPVizActive) {\r\n      let ar = JSON.parse(JSON.stringify(maleArr));\r\n      ar.map((elem) => {\r\n        elem.color = \"\";\r\n        elem.toggle = false;\r\n      });\r\n      setMaleArr(ar);\r\n    }\r\n  }, [resetMaleArray, SMPVizActive]);\r\n\r\n  const toggle = (ind) => {\r\n    if (SMPVizActive) return;\r\n    // console.log(ind);\r\n    let ar = [...maleArr];\r\n    let temp = ar[ind].toggle;\r\n    ar[ind].toggle = !temp;\r\n    setMaleArr(ar);\r\n  };\r\n  // console.log(maleArr);\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target);\r\n    // Wrong Approach: Everytime new element gets created\r\n    // setMaleArr([...maleArr, ([event.target.name] = event.target.value)]);\r\n    // Right Approach\r\n    let ind = event.target.id;\r\n    // Make a shallow copy of the array\r\n    let ar = [...maleArr];\r\n    let temp = event.target.value;\r\n    if (temp.length > maximumCharCount) {\r\n      informer.queueMessage(\r\n        \"warning\",\r\n        `Only ${maximumCharCount} characters are allowed!`,\r\n        2000\r\n      );\r\n      return;\r\n    }\r\n    ar[ind].name = temp;\r\n    handleFemalePreferences(ind, event.target.value);\r\n    setMaleArr(ar);\r\n  };\r\n\r\n  const handleDragStart = (e, item) => {\r\n    console.log(\"Staring Drag...\");\r\n    dragItemNode.current = e.target;\r\n    dragItemNode.current.addEventListener(\"dragend\", handleDragEnd);\r\n    dragItem.current = item;\r\n    setTimeout(() => {\r\n      setDragging(true);\r\n    }, 0);\r\n  };\r\n\r\n  const handleDragEnter = (e, targetItem) => {\r\n    console.log(\"Entering a drag target\", targetItem);\r\n    // 1st condition: Items should be different\r\n    // (inorder to place the item in original position, 1st condition is removed !)\r\n    // 2nd condition: Group should be same\r\n    if (\r\n      // dragItemNode.current !== e.target &&\r\n      dragItem.current.index === targetItem.index\r\n    ) {\r\n      console.log(\"Swapping..\");\r\n      setMaleArr((maleArr) => {\r\n        // let newMaleArr = JSON.parse(JSON.stringify(maleArr));\r\n        // Make a shallow copy of the array\r\n        // A shallow copy means the first level is copied, deeper levels are referenced.\r\n        // For deep copy: JSON.parse(JSON.stringify(maleArr))\r\n        let newMaleArr = [...maleArr];\r\n        newMaleArr[targetItem.index].preferences.splice(\r\n          targetItem.ind,\r\n          0,\r\n          newMaleArr[dragItem.current.index].preferences.splice(\r\n            dragItem.current.ind,\r\n            1\r\n          )[0]\r\n        );\r\n        dragItem.current = targetItem;\r\n        // let tempArr = [...maleArr];\r\n        // tempArr.forEach((val) => {\r\n        //   delete val.toggle;\r\n        // });\r\n        console.log(newMaleArr);\r\n        handleFemaleArr(newMaleArr);\r\n        return newMaleArr;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDragEnd = (e) => {\r\n    setDragging(false);\r\n    dragItem.current = null;\r\n    dragItemNode.current.removeEventListener(\"dragend\", handleDragEnd);\r\n    dragItemNode.current = null;\r\n  };\r\n\r\n  const getStyles = (item) => {\r\n    if (\r\n      dragging &&\r\n      dragItem.current.index === item.index &&\r\n      dragItem.current.ind === item.ind\r\n    ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  //  let temp = [...maleArr];\r\n  //  let tempIndex = maleArr[ind].index;\r\n  //  maleArr.splice(ind, 1);\r\n  //  console.log(maleArr, ind, tempIndex);\r\n  //  let newMaleArr = handleDeleteMaleList(maleArr, tempIndex);\r\n  //  setMaleArr(newMaleArr);\r\n\r\n  const handleDeleteItem = (ind) => {\r\n    // let temp = [...maleArr];\r\n    if (SMPVizActive) return;\r\n    if (maleArr.length - 1 < minimumEntityCount) {\r\n      informer.queueMessage(\r\n        \"warning\",\r\n        `Number of male entities cannot go below minimum ${minimumEntityCount}.`,\r\n        1500\r\n      );\r\n      return;\r\n    }\r\n    let tempIndex = maleArr[ind].index;\r\n    maleArr.splice(ind, 1);\r\n    console.log(maleArr, ind, tempIndex);\r\n    handleDeleteMaleList(maleArr, tempIndex, ind);\r\n    // setMaleArr(temp);\r\n  };\r\n\r\n  const addMaleItem = () => {\r\n    if (SMPVizActive) {\r\n      if (SMPVizDone)\r\n        informer.queueMessage(\r\n          \"warning\",\r\n          \"Use stop button to edit configuration.\",\r\n          1000\r\n        );\r\n      return;\r\n    }\r\n    if (maleArr.length + 1 > maximumEntityCount) {\r\n      informer.queueMessage(\r\n        \"warning\",\r\n        `Maximum number of entities (${maximumEntityCount}) has been reached.`,\r\n        1500\r\n      );\r\n      return;\r\n    }\r\n    handleAddMaleItem();\r\n  };\r\n\r\n  const showAnimation = (ind) => {\r\n    if (!SMPVizActive) return;\r\n    showAnimationCol(\"male\", ind);\r\n  };\r\n  return (\r\n    <LeftContainer id=\"male\">\r\n      <Scrollbars style={{ width: 480, height: 615 }} autoHide>\r\n        {maleArr.map((elem, index) => {\r\n          return (\r\n            <Collapse\r\n              in={elem.toggle}\r\n              collapsedHeight=\"85px\"\r\n              timeout=\"auto\"\r\n              style={{\r\n                overflow: \"hidden\",\r\n                width: \"450px\",\r\n                borderRadius: \"30px\",\r\n              }}\r\n            >\r\n              <StyledPaper\r\n                elevation={10}\r\n                key={index}\r\n                // ref={(element) => myRef.current.push(element)}\r\n                className={\"male-\" + index}\r\n                highlight={highlightMaleIndex === index ? true : false}\r\n                bgColor={elem.color}\r\n                darkMode={darkMode}\r\n                onClick={() => showAnimation(index)}\r\n              >\r\n                <List\r\n                  flag={elem.toggle}\r\n                  pointer={SMPVizActive && !SMPVizDone}\r\n                  darkMode={darkMode}\r\n                >\r\n                  {!elem.toggle ? (\r\n                    <StyledFaChevronCircleRight\r\n                      onClick={() => toggle(index)}\r\n                      play={SMPVizActive}\r\n                      pointer={SMPVizActive && !SMPVizDone}\r\n                      darkMode={darkMode}\r\n                    />\r\n                  ) : (\r\n                    <StyledFaChevronCircleDown\r\n                      onClick={() => toggle(index)}\r\n                      play={SMPVizActive}\r\n                      darkMode={darkMode}\r\n                    />\r\n                  )}\r\n                  <StyledInput\r\n                    autoComplete=\"off\"\r\n                    placeholder=\"Enter name\"\r\n                    spellCheck=\"false\"\r\n                    value={elem.name}\r\n                    onChange={handleNameChange}\r\n                    id={index}\r\n                    disabled={SMPVizActive}\r\n                    done={SMPVizDone}\r\n                    pointer={SMPVizActive && !SMPVizDone}\r\n                    darkMode={darkMode}\r\n                  />\r\n                  <StyledRiDeleteBack2Fill\r\n                    onClick={() => handleDeleteItem(index)}\r\n                    play={SMPVizActive}\r\n                    pointer={SMPVizActive && !SMPVizDone}\r\n                    darkMode={darkMode}\r\n                  />\r\n                </List>\r\n                {elem.toggle &&\r\n                  elem.preferences.map((pref, ind) => {\r\n                    return (\r\n                      <PreferenceList\r\n                        ind={ind}\r\n                        len={elem.preferences.length}\r\n                        key={ind}\r\n                        draggable\r\n                        onDragStart={(e) => handleDragStart(e, { index, ind })}\r\n                        onDragEnter={\r\n                          dragging\r\n                            ? (e) => {\r\n                                handleDragEnter(e, { index, ind });\r\n                              }\r\n                            : null\r\n                        }\r\n                        styleFlag={getStyles({ index, ind })}\r\n                        darkMode={darkMode}\r\n                      >\r\n                        <StyledMdDragHandle\r\n                          styleFlag={getStyles({ index, ind })}\r\n                          darkMode={darkMode}\r\n                        />\r\n                        <ListItem\r\n                          styleFlag={getStyles({ index, ind })}\r\n                          darkMode={darkMode}\r\n                          disabled={SMPVizActive}\r\n                        >\r\n                          {pref}\r\n                        </ListItem>\r\n                      </PreferenceList>\r\n                    );\r\n                  })}\r\n              </StyledPaper>\r\n            </Collapse>\r\n          );\r\n        })}\r\n        <StyledMdAddCircle\r\n          onClick={addMaleItem}\r\n          play={SMPVizActive}\r\n          pointer={SMPVizActive && !SMPVizDone}\r\n          darkMode={darkMode}\r\n        />\r\n      </Scrollbars>\r\n    </LeftContainer>\r\n  );\r\n};\r\n\r\nexport default MaleList;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport {\r\n  LeftContainer,\r\n  StyledPaper,\r\n  List,\r\n  PreferenceList,\r\n  ListItem,\r\n  StyledInput,\r\n  StyledFaChevronCircleRight,\r\n  StyledFaChevronCircleDown,\r\n  StyledRiDeleteBack2Fill,\r\n  StyledMdDragHandle,\r\n  StyledMdAddCircle,\r\n} from \"../MainListElements\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport {\r\n  minimumEntityCount,\r\n  maximumEntityCount,\r\n  maximumCharCount,\r\n} from \"../../helper/arrangement\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\n// let femaleConfig = defaultArrangement.female.map((elem) => {\r\n//   return elem.name;\r\n// });\r\n// let obj = defaultArrangement.female.map((elem) => {\r\n//   return { name: elem.name, preferences: elem.preferences, toggle: false };\r\n// });\r\n\r\nconst FemaleList = ({\r\n  female,\r\n  handleMalePreferences,\r\n  handleMaleArr,\r\n  handleDeleteFemaleList,\r\n  handleAddFemaleItem,\r\n  flagBtn,\r\n  SMPVizActive,\r\n  SMPVizDone,\r\n  highlightFemaleIndex,\r\n  bgColor,\r\n  showAnimationCol,\r\n  resetFemaleArray,\r\n  informer,\r\n  darkMode,\r\n}) => {\r\n  let obj = female.map((elem) => {\r\n    return { ...elem, toggle: false, color: \"\" };\r\n  });\r\n  // console.log(obj);\r\n\r\n  const [femaleArr, setFemaleArr] = useState(obj);\r\n  const [dragging, setDragging] = useState(false);\r\n  const dragItem = useRef();\r\n  const dragItemNode = useRef();\r\n  // const myRef = useRef(new Array());\r\n\r\n  useEffect(() => {\r\n    if (highlightFemaleIndex !== -1) {\r\n      // window.scrollTo(0, myRef.current[highlightFemaleIndex].offsetTop);\r\n      let femaleEntity = document.getElementsByClassName(\r\n        `female-${highlightFemaleIndex}`\r\n      );\r\n      console.log(femaleEntity[0]);\r\n      femaleEntity[0].parentNode.parentNode.parentNode.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"nearest\",\r\n        inline: \"center\",\r\n      });\r\n    }\r\n    if (Object.keys(bgColor).length !== 0) {\r\n      let ar = [...femaleArr];\r\n      ar[bgColor.index].color = bgColor.color;\r\n      setFemaleArr(ar);\r\n    }\r\n  }, [highlightFemaleIndex, bgColor]);\r\n\r\n  // It's not updating to obj while re-rendering wrt parent component, So I returned a new array from handleDeleteFemaleList fn!!\r\n  // Now, Fixed !!\r\n  useEffect(() => {\r\n    if (flagBtn) {\r\n      femaleArr.forEach((item, ind) => {\r\n        obj[ind].toggle = item.toggle;\r\n      });\r\n    }\r\n    setFemaleArr(obj);\r\n  }, [female]);\r\n\r\n  useEffect(() => {\r\n    if (resetFemaleArray || SMPVizActive) {\r\n      let ar = JSON.parse(JSON.stringify(femaleArr));\r\n      ar.map((elem) => {\r\n        elem.color = \"\";\r\n        elem.toggle = false;\r\n      });\r\n      setFemaleArr(ar);\r\n    }\r\n  }, [resetFemaleArray, SMPVizActive]);\r\n\r\n  const toggle = (ind) => {\r\n    if (SMPVizActive) return;\r\n    // console.log(ind);\r\n    let ar = [...femaleArr];\r\n    let temp = ar[ind].toggle;\r\n    ar[ind].toggle = !temp;\r\n    setFemaleArr(ar);\r\n  };\r\n  // console.log(femaleArr);\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target);\r\n    let ind = event.target.id;\r\n    // Make a shallow copy of the array\r\n    let ar = [...femaleArr];\r\n    let temp = event.target.value;\r\n    if (temp.length > maximumCharCount) {\r\n      informer.queueMessage(\r\n        \"warning\",\r\n        `Only ${maximumCharCount} characters are allowed!`,\r\n        2000\r\n      );\r\n      return;\r\n    }\r\n    ar[ind].name = temp;\r\n    handleMalePreferences(ind, event.target.value);\r\n    setFemaleArr(ar);\r\n  };\r\n\r\n  const handleDragStart = (e, item) => {\r\n    console.log(\"Staring Drag...\");\r\n    dragItemNode.current = e.target;\r\n    dragItemNode.current.addEventListener(\"dragend\", handleDragEnd);\r\n    dragItem.current = item;\r\n    setTimeout(() => {\r\n      setDragging(true);\r\n    }, 0);\r\n  };\r\n\r\n  const handleDragEnter = (e, targetItem) => {\r\n    console.log(\"Entering a drag target\", targetItem);\r\n    // 1st condition: Items should be different\r\n    // (inorder to place the item in original position, 1st condition is removed !)\r\n    // 2nd condition: Group should be same\r\n    if (\r\n      // dragItemNode.current !== e.target &&\r\n      dragItem.current.index === targetItem.index\r\n    ) {\r\n      setFemaleArr((femaleArr) => {\r\n        // let newMaleArr = JSON.parse(JSON.stringify(maleArr));\r\n        // Make a shallow copy of the array\r\n        let newFemaleArr = [...femaleArr];\r\n        newFemaleArr[targetItem.index].preferences.splice(\r\n          targetItem.ind,\r\n          0,\r\n          newFemaleArr[dragItem.current.index].preferences.splice(\r\n            dragItem.current.ind,\r\n            1\r\n          )[0]\r\n        );\r\n        dragItem.current = targetItem;\r\n        // localStorage.setItem('List', JSON.stringify(newList));\r\n        handleMaleArr(newFemaleArr);\r\n        return newFemaleArr;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDragEnd = (e) => {\r\n    setDragging(false);\r\n    dragItem.current = null;\r\n    dragItemNode.current.removeEventListener(\"dragend\", handleDragEnd);\r\n    dragItemNode.current = null;\r\n  };\r\n\r\n  const getStyles = (item) => {\r\n    if (\r\n      dragging &&\r\n      dragItem.current.index === item.index &&\r\n      dragItem.current.ind === item.ind\r\n    ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const handleDeleteItem = (ind) => {\r\n    // let temp = [...femaleArr];\r\n    if (SMPVizActive) return;\r\n    if (femaleArr.length - 1 < minimumEntityCount) {\r\n      informer.queueMessage(\r\n        \"warning\",\r\n        `Number of female entities cannot go below minimum ${minimumEntityCount}.`,\r\n        1500\r\n      );\r\n      return;\r\n    }\r\n    let tempIndex = femaleArr[ind].index;\r\n    femaleArr.splice(ind, 1);\r\n    console.log(femaleArr, ind, tempIndex);\r\n    handleDeleteFemaleList(femaleArr, tempIndex, ind);\r\n    // setFemaleArr(femaleArr);\r\n  };\r\n\r\n  const addFemaleItem = () => {\r\n    if (SMPVizActive) {\r\n      if (SMPVizDone)\r\n        informer.queueMessage(\r\n          \"warning\",\r\n          \"Use stop button to edit configuration.\",\r\n          1000\r\n        );\r\n      return;\r\n    }\r\n    if (femaleArr.length + 1 > maximumEntityCount) {\r\n      informer.queueMessage(\r\n        \"warning\",\r\n        `Maximum number of entities (${maximumEntityCount}) has been reached.`,\r\n        1500\r\n      );\r\n      return;\r\n    }\r\n    handleAddFemaleItem();\r\n  };\r\n\r\n  const showAnimation = (ind) => {\r\n    if (!SMPVizActive) return;\r\n    showAnimationCol(\"female\", ind);\r\n  };\r\n\r\n  return (\r\n    <LeftContainer id=\"female\">\r\n      <Scrollbars style={{ width: 480, height: 615 }} autoHide>\r\n        {femaleArr.map((elem, index) => {\r\n          return (\r\n            <Collapse\r\n              in={elem.toggle}\r\n              collapsedHeight=\"85px\"\r\n              timeout=\"auto\"\r\n              style={{\r\n                overflow: \"hidden\",\r\n                width: \"450px\",\r\n                borderRadius: \"30px\",\r\n              }}\r\n            >\r\n              <StyledPaper\r\n                elevation={10}\r\n                key={index}\r\n                // ref={(element) => myRef.current.push(element)}\r\n                className={\"female-\" + index}\r\n                highlight={highlightFemaleIndex === index ? true : false}\r\n                bgColor={elem.color}\r\n                darkMode={darkMode}\r\n                onClick={() => showAnimation(index)}\r\n              >\r\n                <List\r\n                  flag={elem.toggle}\r\n                  pointer={SMPVizActive && !SMPVizDone}\r\n                  darkMode={darkMode}\r\n                >\r\n                  {!elem.toggle ? (\r\n                    <StyledFaChevronCircleRight\r\n                      onClick={() => toggle(index)}\r\n                      play={SMPVizActive}\r\n                      pointer={SMPVizActive && !SMPVizDone}\r\n                      darkMode={darkMode}\r\n                    />\r\n                  ) : (\r\n                    <StyledFaChevronCircleDown\r\n                      onClick={() => toggle(index)}\r\n                      play={SMPVizActive}\r\n                      darkMode={darkMode}\r\n                    />\r\n                  )}\r\n                  <StyledInput\r\n                    autoComplete=\"off\"\r\n                    placeholder=\"Enter name\"\r\n                    spellCheck=\"false\"\r\n                    value={elem.name}\r\n                    onChange={handleNameChange}\r\n                    id={index}\r\n                    disabled={SMPVizActive}\r\n                    done={SMPVizDone}\r\n                    pointer={SMPVizActive && !SMPVizDone}\r\n                    darkMode={darkMode}\r\n                  />\r\n                  <StyledRiDeleteBack2Fill\r\n                    onClick={() => handleDeleteItem(index)}\r\n                    play={SMPVizActive}\r\n                    pointer={SMPVizActive && !SMPVizDone}\r\n                    darkMode={darkMode}\r\n                  />\r\n                </List>\r\n                {elem.toggle &&\r\n                  elem.preferences.map((pref, ind) => {\r\n                    return (\r\n                      <PreferenceList\r\n                        ind={ind}\r\n                        len={elem.preferences.length}\r\n                        key={ind}\r\n                        draggable\r\n                        onDragStart={(e) => handleDragStart(e, { index, ind })}\r\n                        onDragEnter={\r\n                          dragging\r\n                            ? (e) => {\r\n                                handleDragEnter(e, { index, ind });\r\n                              }\r\n                            : null\r\n                        }\r\n                        styleFlag={getStyles({ index, ind })}\r\n                        darkMode={darkMode}\r\n                      >\r\n                        <StyledMdDragHandle\r\n                          styleFlag={getStyles({ index, ind })}\r\n                          darkMode={darkMode}\r\n                        />\r\n                        <ListItem\r\n                          styleFlag={getStyles({ index, ind })}\r\n                          darkMode={darkMode}\r\n                          disabled={SMPVizActive}\r\n                        >\r\n                          {pref}\r\n                        </ListItem>\r\n                      </PreferenceList>\r\n                    );\r\n                  })}\r\n              </StyledPaper>\r\n            </Collapse>\r\n          );\r\n        })}\r\n        <StyledMdAddCircle\r\n          onClick={addFemaleItem}\r\n          play={SMPVizActive}\r\n          pointer={SMPVizActive && !SMPVizDone}\r\n          darkMode={darkMode}\r\n        />\r\n      </Scrollbars>\r\n    </LeftContainer>\r\n  );\r\n};\r\n\r\nexport default FemaleList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  AnimationStyledPaper,\r\n  AnimationList,\r\n  Name,\r\n  PreferenceList,\r\n  ListItem,\r\n  StyledFaChevronCircleRight,\r\n  StyledFaChevronCircleDown,\r\n} from \"../MainListElements\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nconst AnimationCol = ({\r\n  male,\r\n  female,\r\n  showFemaleEntity,\r\n  toggleOpacity,\r\n  expandMalePreference,\r\n  expandFemalePreference,\r\n  scrollMaleIndex,\r\n  scrollFemaleIndex,\r\n  highlightMalePrefIndex,\r\n  highlightFemalePrefIndex,\r\n  bgColor,\r\n  engageIndex,\r\n  showAnimationColor,\r\n  SMPVizActive,\r\n  darkMode,\r\n}) => {\r\n  const [toggleMale, setToggleMale] = useState(false);\r\n  const [toggleFemale, setToggleFemale] = useState(false);\r\n  const [styleElementFlag, setStyleElementFlag] = useState(false);\r\n  const [malePrefInd, setMalePrefInd] = useState(-1);\r\n  const [femalePrefInd, setFemalePrefInd] = useState(-1);\r\n\r\n  useEffect(() => {\r\n    setStyleElementFlag(toggleOpacity);\r\n  }, [toggleOpacity]);\r\n  useEffect(() => {\r\n    let fm = expandMalePreference;\r\n    let ff = expandFemalePreference;\r\n    setToggleMale(fm);\r\n    setToggleFemale(ff);\r\n  }, [expandMalePreference, expandFemalePreference]);\r\n  useEffect(() => {\r\n    if (scrollMaleIndex) {\r\n      let maleEntity = document.getElementsByClassName(\"entity-male\");\r\n      console.log(maleEntity[0], \"Eric\", maleEntity[0].parentNode);\r\n      maleEntity[0].parentNode.parentNode.parentNode.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"nearest\",\r\n        inline: \"center\",\r\n      });\r\n    }\r\n  }, [scrollMaleIndex]);\r\n  useEffect(() => {\r\n    if (scrollFemaleIndex) {\r\n      let femaleEntity = document.getElementsByClassName(\"entity-female\");\r\n      console.log(femaleEntity[0], \"Eric\", femaleEntity[0].parentNode);\r\n      femaleEntity[0].parentNode.parentNode.parentNode.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"nearest\",\r\n        inline: \"center\",\r\n      });\r\n    }\r\n  }, [scrollFemaleIndex]);\r\n  useEffect(() => {\r\n    // if (highlightMalePrefIndex !== -1) {\r\n    // }\r\n    // if (highlightFemalePrefIndex !== -1) {\r\n    // }\r\n    // Will move to updated preference index !\r\n    setMalePrefInd(highlightMalePrefIndex);\r\n    setFemalePrefInd(highlightFemalePrefIndex);\r\n  }, [highlightMalePrefIndex, highlightFemalePrefIndex]);\r\n\r\n  const handleScrollFrame = (values) => {\r\n    console.log(values);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"flex-start\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <Scrollbars\r\n          style={{ width: 480, height: 635 }}\r\n          autoHide\r\n          onScrollFrame={handleScrollFrame}\r\n        >\r\n          <Collapse\r\n            in={toggleMale}\r\n            collapsedHeight=\"85px\"\r\n            timeout=\"auto\"\r\n            style={{\r\n              overflow: \"hidden\",\r\n              width: \"450px\",\r\n              borderRadius: \"30px\",\r\n            }}\r\n          >\r\n            <AnimationStyledPaper\r\n              elevation={10}\r\n              styleElementFlag={styleElementFlag}\r\n              highlight={!toggleMale && bgColor === \"\"}\r\n              className=\"entity-male\"\r\n              bgColor={bgColor}\r\n              engageIndex={-1}\r\n              toggle={toggleMale}\r\n              darkMode={darkMode}\r\n            >\r\n              <AnimationList\r\n                flag={toggleMale}\r\n                engageIndex={-1}\r\n                showAnimationColor={showAnimationColor}\r\n                pointer={SMPVizActive}\r\n                darkMode={darkMode}\r\n              >\r\n                {!toggleMale ? (\r\n                  <StyledFaChevronCircleRight\r\n                    animation={true}\r\n                    pointer={SMPVizActive}\r\n                    play={SMPVizActive}\r\n                    darkMode={darkMode}\r\n                  />\r\n                ) : (\r\n                  <StyledFaChevronCircleDown\r\n                    animation={true}\r\n                    pointer={SMPVizActive}\r\n                    play={SMPVizActive}\r\n                    darkMode={darkMode}\r\n                  />\r\n                )}\r\n                <Name pointer={SMPVizActive} darkMode={darkMode}>\r\n                  {male.name}\r\n                </Name>\r\n              </AnimationList>\r\n              {toggleMale &&\r\n                male &&\r\n                male.preferencesName.map((pref, ind) => {\r\n                  return (\r\n                    <PreferenceList\r\n                      ind={ind}\r\n                      len={male.preferencesName.length}\r\n                      key={ind}\r\n                      animation={true}\r\n                      highlight={malePrefInd === ind ? true : false}\r\n                      engageHighlight={false}\r\n                      showAnimationColor={showAnimationColor}\r\n                      active={SMPVizActive}\r\n                      darkMode={darkMode}\r\n                    >\r\n                      <ListItem\r\n                        animation={true}\r\n                        darkMode={darkMode}\r\n                        disabled={SMPVizActive}\r\n                      >\r\n                        {pref}\r\n                      </ListItem>\r\n                    </PreferenceList>\r\n                  );\r\n                })}\r\n            </AnimationStyledPaper>\r\n          </Collapse>\r\n          {showFemaleEntity && (\r\n            <>\r\n              <Collapse\r\n                in={toggleFemale}\r\n                collapsedHeight=\"85px\"\r\n                timeout=\"auto\"\r\n                style={{\r\n                  overflow: \"hidden\",\r\n                  width: \"450px\",\r\n                  borderRadius: \"30px\",\r\n                }}\r\n              >\r\n                <AnimationStyledPaper\r\n                  elevation={10}\r\n                  styleElementFlag={styleElementFlag}\r\n                  highlight={!toggleFemale && bgColor === \"\"}\r\n                  className=\"entity-female\"\r\n                  bgColor={bgColor}\r\n                  engageIndex={engageIndex}\r\n                  toggle={toggleFemale}\r\n                  darkMode={darkMode}\r\n                >\r\n                  <AnimationList\r\n                    flag={toggleFemale}\r\n                    engageIndex={engageIndex}\r\n                    showAnimationColor={showAnimationColor}\r\n                    pointer={SMPVizActive}\r\n                    darkMode={darkMode}\r\n                  >\r\n                    {!toggleFemale ? (\r\n                      <StyledFaChevronCircleRight\r\n                        animation={true}\r\n                        pointer={SMPVizActive}\r\n                        play={SMPVizActive}\r\n                        darkMode={darkMode}\r\n                      />\r\n                    ) : (\r\n                      <StyledFaChevronCircleDown\r\n                        animation={true}\r\n                        pointer={SMPVizActive}\r\n                        play={SMPVizActive}\r\n                        darkMode={darkMode}\r\n                      />\r\n                    )}\r\n                    <Name pointer={SMPVizActive} darkMode={darkMode}>\r\n                      {female.name}\r\n                    </Name>\r\n                  </AnimationList>\r\n                  {toggleFemale &&\r\n                    female &&\r\n                    female.preferencesName.map((pref, ind) => {\r\n                      return (\r\n                        <PreferenceList\r\n                          ind={ind}\r\n                          len={female.preferencesName.length}\r\n                          key={ind}\r\n                          animation={true}\r\n                          highlight={femalePrefInd === ind ? true : false}\r\n                          engageHighlight={engageIndex === ind ? true : false}\r\n                          showAnimationColor={showAnimationColor}\r\n                          active={SMPVizActive}\r\n                          darkMode={darkMode}\r\n                        >\r\n                          <ListItem\r\n                            animation={true}\r\n                            darkMode={darkMode}\r\n                            disabled={SMPVizActive}\r\n                          >\r\n                            {pref}\r\n                          </ListItem>\r\n                        </PreferenceList>\r\n                      );\r\n                    })}\r\n                </AnimationStyledPaper>\r\n              </Collapse>\r\n            </>\r\n          )}\r\n        </Scrollbars>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AnimationCol;\r\n","// Storing indices of male & female occuring in opposite gender preferences array\r\nimport {\r\n  maleNames,\r\n  femaleNames,\r\n  minimumEntityCount,\r\n  maximumEntityCount,\r\n  maximumCharCount,\r\n} from \"./arrangement.js\";\r\n\r\nconst addMaleIndices = (male, female) => {\r\n  let newMaleArray = [];\r\n  male.forEach((elem) => {\r\n    let { name, preferences } = elem;\r\n    let index = [];\r\n    female.forEach((val) => {\r\n      val.preferences.forEach((oppElem, ind) => {\r\n        if (oppElem === name) {\r\n          index.push(ind);\r\n        }\r\n      });\r\n    });\r\n    let tempObj = {\r\n      name,\r\n      preferences,\r\n      index,\r\n    };\r\n    newMaleArray.push(tempObj);\r\n  });\r\n\r\n  return newMaleArray;\r\n};\r\n\r\nconst addFemaleIndices = (male, female) => {\r\n  let newFemaleArray = [];\r\n  female.forEach((elem) => {\r\n    let { name, preferences } = elem;\r\n    let index = [];\r\n    male.forEach((val) => {\r\n      val.preferences.forEach((oppElem, ind) => {\r\n        if (oppElem === name) {\r\n          index.push(ind);\r\n        }\r\n      });\r\n    });\r\n    let tempObj = {\r\n      name,\r\n      preferences,\r\n      index,\r\n    };\r\n    newFemaleArray.push(tempObj);\r\n  });\r\n\r\n  return newFemaleArray;\r\n};\r\n\r\n// O(N2*M) -> O(N)\r\nconst removeColorAndToggle = (arr) => {\r\n  let newArray = [];\r\n  arr.forEach((elem) => {\r\n    let { name, preferences, index } = elem;\r\n    let tempObj = {\r\n      name,\r\n      preferences,\r\n      index,\r\n    };\r\n    newArray.push(tempObj);\r\n  });\r\n  return newArray;\r\n};\r\n\r\nconst removeMaleIndex = (male, female, ind, idx) => {\r\n  male.forEach((elem) => {\r\n    elem.index.forEach((val, j) => {\r\n      if (ind[j] < val) {\r\n        elem.index[j] = val - 1;\r\n      }\r\n    });\r\n  });\r\n  female.forEach((elem, i) => {\r\n    elem.preferences.splice(ind[i], 1);\r\n    elem.index.splice(idx, 1);\r\n  });\r\n  console.log(male, female);\r\n\r\n  return {\r\n    tempMale: male,\r\n    tempFemale: female,\r\n  };\r\n};\r\n\r\nconst removeFemaleIndex = (male, female, ind, idx) => {\r\n  female.forEach((elem) => {\r\n    elem.index.forEach((val, j) => {\r\n      if (ind[j] < val) {\r\n        elem.index[j] = val - 1;\r\n      }\r\n    });\r\n  });\r\n  male.forEach((elem, i) => {\r\n    elem.preferences.splice(ind[i], 1);\r\n    elem.index.splice(idx, 1);\r\n  });\r\n\r\n  console.log(male, female);\r\n\r\n  return {\r\n    tempMale: male,\r\n    tempFemale: female,\r\n  };\r\n};\r\n\r\nconst shuffleArray = (preferenceArr) => {\r\n  let currentIndex = preferenceArr.length;\r\n  let temporaryValue;\r\n  let randomIndex;\r\n  let mapIndex = {};\r\n\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    // And swap it with the current element.\r\n    temporaryValue = preferenceArr[currentIndex];\r\n    preferenceArr[currentIndex] = preferenceArr[randomIndex];\r\n    preferenceArr[randomIndex] = temporaryValue;\r\n    mapIndex[preferenceArr[currentIndex]] = currentIndex;\r\n  }\r\n  return { preferenceArr, mapIndex };\r\n};\r\n\r\nconst randomArraySized = (array, size) => {\r\n  // Deep Clone: Used to prevent mutating the original array.\r\n  let shuffledArray = shuffleArray(\r\n    JSON.parse(JSON.stringify(array))\r\n  ).preferenceArr;\r\n  return shuffledArray.slice(0, size);\r\n};\r\n\r\nconst addMaleItem = (maleArr, femaleArr) => {\r\n  let nameMaleArr = [];\r\n  let nameFemaleArr = [];\r\n  maleArr.forEach((item) => {\r\n    nameMaleArr.push(item.name);\r\n  });\r\n  femaleArr.forEach((item) => {\r\n    nameFemaleArr.push(item.name);\r\n  });\r\n  let randomName = \"\";\r\n  do {\r\n    randomName = maleNames[Math.floor(Math.random() * maleNames.length)];\r\n  } while (nameMaleArr.indexOf(randomName) != -1);\r\n  let { preferenceArr, mapIndex } = shuffleArray(nameFemaleArr);\r\n  console.log(preferenceArr, mapIndex);\r\n  let indexArr = femaleArr.map((val) => {\r\n    return maleArr.length;\r\n  });\r\n  let newMaleArr = [\r\n    ...maleArr,\r\n    {\r\n      name: randomName,\r\n      preferences: preferenceArr,\r\n      index: indexArr,\r\n    },\r\n  ];\r\n  let newFemaleArr = femaleArr.map((item) => {\r\n    let tempPreference = [...item.preferences];\r\n    tempPreference.push(randomName);\r\n    let tempIndex = [...item.index];\r\n    tempIndex.push(mapIndex[item.name]);\r\n    return {\r\n      name: item.name,\r\n      preferences: tempPreference,\r\n      index: tempIndex,\r\n    };\r\n  });\r\n  console.log(newMaleArr, newFemaleArr);\r\n  return { newMaleArr, newFemaleArr };\r\n};\r\n\r\nconst addFemaleItem = (maleArr, femaleArr) => {\r\n  let nameMaleArr = [];\r\n  let nameFemaleArr = [];\r\n  maleArr.forEach((item) => {\r\n    nameMaleArr.push(item.name);\r\n  });\r\n  femaleArr.forEach((item) => {\r\n    nameFemaleArr.push(item.name);\r\n  });\r\n  let randomName = \"\";\r\n  do {\r\n    randomName = femaleNames[Math.floor(Math.random() * femaleNames.length)];\r\n  } while (nameFemaleArr.indexOf(randomName) != -1);\r\n  let { preferenceArr, mapIndex } = shuffleArray(nameMaleArr);\r\n  let indexArr = maleArr.map((val) => {\r\n    return femaleArr.length;\r\n  });\r\n  let newFemaleArr = [\r\n    ...femaleArr,\r\n    {\r\n      name: randomName,\r\n      preferences: preferenceArr,\r\n      index: indexArr,\r\n    },\r\n  ];\r\n  let newMaleArr = maleArr.map((item) => {\r\n    let tempPreference = item.preferences;\r\n    tempPreference.push(randomName);\r\n    let tempIndex = item.index;\r\n    tempIndex.push(mapIndex[item.name]);\r\n    return {\r\n      name: item.name,\r\n      preferences: tempPreference,\r\n      index: tempIndex,\r\n    };\r\n  });\r\n  return { newMaleArr, newFemaleArr };\r\n};\r\n\r\nconst randomConfigClick = () => {\r\n  let range = maximumEntityCount - minimumEntityCount;\r\n  let randomMaleCount =\r\n    Math.floor(Math.random() * (range + 1)) + minimumEntityCount;\r\n  let randomFemaleCount =\r\n    Math.floor(Math.random() * (range + 1)) + minimumEntityCount;\r\n  // Get the names for each group.\r\n  let randomMaleNames = randomArraySized(maleNames, randomMaleCount);\r\n  let randomFemaleNames = randomArraySized(femaleNames, randomFemaleCount);\r\n  let randomMaleArr = randomMaleNames.map((item) => {\r\n    let tempArr = shuffleArray(\r\n      JSON.parse(JSON.stringify(randomFemaleNames))\r\n    ).preferenceArr;\r\n    return {\r\n      name: item,\r\n      preferences: tempArr,\r\n    };\r\n  });\r\n  let randomFemaleArr = randomFemaleNames.map((item) => {\r\n    let tempArr = shuffleArray(\r\n      JSON.parse(JSON.stringify(randomMaleNames))\r\n    ).preferenceArr;\r\n    return {\r\n      name: item,\r\n      preferences: tempArr,\r\n    };\r\n  });\r\n  let randomFinalMaleArr = addMaleIndices(randomMaleArr, randomFemaleArr);\r\n  let randomFinalFemaleArr = addFemaleIndices(randomMaleArr, randomFemaleArr);\r\n  console.log(randomFinalMaleArr, randomFinalFemaleArr);\r\n  return {\r\n    randomFinalMaleArr,\r\n    randomFinalFemaleArr,\r\n  };\r\n};\r\n\r\nconst isValidConfig = (maleArr, femaleArr) => {\r\n  let maleName = maleArr.map((item) => item.name);\r\n  let totalElements = [...maleArr, ...femaleArr];\r\n\r\n  // Checks if all names are unique whether\r\n  // they be on the same group or not.\r\n  let totalElementsName = totalElements.map((elem) => elem.name);\r\n  let set = new Set(totalElementsName);\r\n  if (set.size !== totalElementsName.length) return false;\r\n  let ct = { male: {}, female: {} };\r\n\r\n  // This loop counts every object of every group and adds one for each time it counts it.\r\n  for (let entity of totalElements) {\r\n    let { name: name1, preferences } = entity;\r\n\r\n    // if any required property is undefined then the configuration is invalid\r\n    if (!entity || !name1 || !preferences) return false;\r\n    let group1 = maleName.indexOf(name1) == -1 ? \"female\" : \"male\";\r\n\r\n    ct[group1][name1] = !ct[group1][name1] ? 1 : ct[group1][name1] + 1;\r\n    for (let name2 of preferences) {\r\n      let group2 = group1 == \"male\" ? \"female\" : \"male\";\r\n      ct[group2][name2] = !ct[group2][name2] ? 1 : ct[group2][name2] + 1;\r\n    }\r\n  }\r\n\r\n  // For the configuration to be valid, all entities of the same group must have the same number of countings.\r\n  for (let group in ct) {\r\n    let counts = Object.values(ct[group]);\r\n    if (!counts.every((x) => x == counts[0])) return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst userSaveFile = (data, filename, type) => {\r\n  let file = new Blob([data], { type: type });\r\n  if (window.navigator.msSaveOrOpenBlob) {\r\n    window.navigator.msSaveOrOpenBlob(file, filename);\r\n  } else {\r\n    let a = document.createElement(\"a\");\r\n    let url = URL.createObjectURL(file);\r\n\r\n    a.href = url;\r\n    a.download = filename;\r\n\r\n    document.body.appendChild(a);\r\n    a.click();\r\n\r\n    setTimeout(function () {\r\n      document.body.removeChild(a);\r\n      window.URL.revokeObjectURL(url);\r\n    }, 0);\r\n  }\r\n};\r\n\r\nconst validateJSONConfig = (config) => {\r\n  let { male, female } = config;\r\n  if (!male || !Array.isArray(male)) {\r\n    throw \"Missing male array in configuration object.\";\r\n  }\r\n  if (!female || !Array.isArray(female)) {\r\n    throw \"Missing female array in configuration object.\";\r\n  }\r\n  if (male.length < minimumEntityCount) {\r\n    throw \"Male array does not meet minimum length of required elements.\";\r\n  }\r\n  if (male.length > maximumEntityCount) {\r\n    throw \"Male array exceeds maximum length of required elements.\";\r\n  }\r\n  if (female.length < minimumEntityCount) {\r\n    throw \"Female array does not meet minimum length of required elements.\";\r\n  }\r\n  if (female.length > maximumEntityCount) {\r\n    throw \"Female array exceeds maximum length of required elements.\";\r\n  }\r\n\r\n  for (let entity of [...male, ...female]) {\r\n    let { name, preferences, index } = entity;\r\n    if (!name || !preferences || !index)\r\n      throw \"An entity is missing required fields.\";\r\n    if (\r\n      !(typeof name == \"string\" || name instanceof String) ||\r\n      name.length > maximumCharCount ||\r\n      /[^a-z]/gi.test(name)\r\n    ) {\r\n      throw \"An entity has an invalid name.\";\r\n    }\r\n    if (\r\n      !Array.isArray(preferences) ||\r\n      !preferences.every((x) => typeof x == \"string\" || x instanceof String)\r\n    ) {\r\n      throw \"An entity has invalid preferences.\";\r\n    }\r\n    if (\r\n      !Array.isArray(index) ||\r\n      !index.every((x) => typeof x == \"number\" || x instanceof Number)\r\n    ) {\r\n      throw \"An entity has invalid index array.\";\r\n    }\r\n  }\r\n\r\n  if (!isValidConfig(male, female)) {\r\n    throw \"The configuration is invalid due to inconsistencies in entity occurence.\";\r\n  }\r\n};\r\n\r\nconst nameIndexMapper = (config) => {\r\n  let mapper = {};\r\n  for (let group in config) {\r\n    for (let index = 0; index < config[group].length; index++) {\r\n      let { name } = config[group][index];\r\n      mapper[name] = index;\r\n    }\r\n  }\r\n  return mapper;\r\n};\r\n\r\nexport {\r\n  addMaleIndices,\r\n  addFemaleIndices,\r\n  removeColorAndToggle,\r\n  removeFemaleIndex,\r\n  removeMaleIndex,\r\n  addMaleItem,\r\n  addFemaleItem,\r\n  randomConfigClick,\r\n  isValidConfig,\r\n  userSaveFile,\r\n  validateJSONConfig,\r\n  nameIndexMapper,\r\n};\r\n","class ProcessCapture {\r\n  constructor() {\r\n    this.history = [];\r\n    this.index = {\r\n      start: null,\r\n      end: null,\r\n    };\r\n  }\r\n\r\n  beginProcess() {\r\n    this.index.start = this.history.length;\r\n  }\r\n  endProcess() {\r\n    this.index.end = this.history.length;\r\n  }\r\n  addProcess(process, content) {\r\n    this.history.push({ process, content });\r\n  }\r\n  getBefore() {\r\n    return this.history.slice(0, this.index.start);\r\n  }\r\n  getCurrent() {\r\n    return this.history.slice(this.index.start, this.index.end);\r\n  }\r\n  getAfter() {\r\n    return this.history.slice(this.index.end);\r\n  }\r\n}\r\n\r\nclass Entity {\r\n  constructor(parent, name, preferences) {\r\n    this.parent = parent;\r\n    this.name = name;\r\n    this.partner = null;\r\n    this.preferencesIndex = [];\r\n    this.preferencesName = preferences;\r\n    this.rejects = [];\r\n\r\n    // Instead of the names stored into the preference list, their indices will be stored instead.\r\n    for (name of preferences) {\r\n      this.preferencesIndex.push(this.parent.getIndexByName(name));\r\n    }\r\n  }\r\n\r\n  allotPartner(entity) {\r\n    if (this.partner == null) return true;\r\n    let partnerIndex = this.parent.getIndexByName(this.partner.name);\r\n    let otherIndex = this.parent.getIndexByName(entity.name);\r\n    if (\r\n      this.preferencesIndex.indexOf(partnerIndex) >\r\n      this.preferencesIndex.indexOf(otherIndex)\r\n    ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  addRejection(entity) {\r\n    entity.rejects.push(this.parent.getIndexByName(this.name));\r\n    this.rejects.push(this.parent.getIndexByName(entity.name));\r\n  }\r\n\r\n  getNonRejectedPreferenceIndex() {\r\n    for (let index = 0; index < this.preferencesIndex.length; index++) {\r\n      if (this.rejects.indexOf(this.preferencesIndex[index]) == -1)\r\n        return this.preferencesIndex[index];\r\n    }\r\n    return -1;\r\n  }\r\n}\r\n\r\nclass SMPAlgo {\r\n  constructor(config, nameIndexMap) {\r\n    this.capture = new ProcessCapture();\r\n    this.nameIndex = nameIndexMap ? nameIndexMap : null;\r\n    this.male = [];\r\n    this.female = [];\r\n    this.single = [];\r\n    this.nosolution = [];\r\n\r\n    // This iteration prepares a dictionary for O(1) time complexity on later lookups.\r\n    if (Object.keys(this.nameIndex).length == 0) {\r\n      for (let group in config) {\r\n        for (let index = 0; index < config[group].length; index++) {\r\n          let { name } = config[group][index];\r\n          this.nameIndex[name] = index;\r\n        }\r\n      }\r\n    }\r\n    // Instantiate all males and also put them on the single array.\r\n    for (let entity of config.male) {\r\n      let { name, preferences } = entity;\r\n      this.male.push(new Entity(this, name, preferences));\r\n      this.single.push(this.male[this.male.length - 1]);\r\n    }\r\n    // Instantiate all females.\r\n    for (let entity of config.female) {\r\n      let { name, preferences } = entity;\r\n      this.female.push(new Entity(this, name, preferences));\r\n    }\r\n  }\r\n\r\n  engage(male, female) {\r\n    male.partner = female;\r\n    female.partner = male;\r\n  }\r\n  // Checks whether algo is finished or not!\r\n  isDone() {\r\n    return this.single.length === 0 ? true : false;\r\n  }\r\n  // Returns the index of any entity regardless of what group it belongs to in O(1) time\r\n  // referring to either male or female array of this object.\r\n  getIndexByName(name) {\r\n    return this.nameIndex[name];\r\n  }\r\n\r\n  algoIterate() {\r\n    if (this.isDone()) return;\r\n    this.capture.beginProcess();\r\n    let male = this.single[0];\r\n    let female = this.female[male.getNonRejectedPreferenceIndex()];\r\n    if (male.rejects.length === this.female.length) {\r\n      this.nosolution.push(this.single.shift());\r\n      return;\r\n    }\r\n    this.capture.addProcess(\"start\", { male, female });\r\n    if (female.partner === null) {\r\n      this.engage(male, female);\r\n      this.single.shift();\r\n      this.capture.addProcess(\"engage\", { male, female });\r\n    } else if (female.partner) {\r\n      let curPartner = female.partner;\r\n      if (female.allotPartner(male)) {\r\n        curPartner.addRejection(curPartner.partner);\r\n        curPartner.partner = null;\r\n        this.single.push(this.male[this.getIndexByName(curPartner.name)]);\r\n        this.engage(male, female);\r\n        this.single.shift();\r\n        // Male in break refers to the new partner of this female.\r\n        this.capture.addProcess(\"break\", { male, female, dumped: curPartner });\r\n      } else {\r\n        // Otherwise the new male is rejected completely by the female.\r\n        male.addRejection(female);\r\n        this.capture.addProcess(\"reject\", { male, female });\r\n      }\r\n    }\r\n    this.capture.addProcess(\"done\", { male, female });\r\n    this.capture.endProcess();\r\n  }\r\n}\r\n\r\nexport { ProcessCapture, SMPAlgo, Entity };\r\n","class Scheduler {\r\n  constructor() {\r\n    this.queue = [];\r\n    this.disable = false;\r\n  }\r\n\r\n  add(callback, duration, skip = false) {\r\n    if (!skip) {\r\n      this.queue.push({ callback, duration, active: false, done: false });\r\n    }\r\n    if (this.disable) return;\r\n    let curr = this.queue[0];\r\n    if (curr && !curr.active && !curr.done) {\r\n      this.queue[0].active = true;\r\n      setTimeout(\r\n        function () {\r\n          try {\r\n            this.queue[0].done = true;\r\n            curr.callback();\r\n            this.queue.shift();\r\n            this.add(null, null, true);\r\n          } catch (e) {}\r\n        }.bind(this),\r\n        curr.duration\r\n      );\r\n    }\r\n  }\r\n  pause() {\r\n    this.disable = true;\r\n  }\r\n  clear() {\r\n    this.queue = [];\r\n  }\r\n  continue() {\r\n    this.disable = false;\r\n    this.add(null, null, true);\r\n  }\r\n}\r\n\r\nexport default Scheduler;\r\n","import { toast } from \"react-toastify\";\r\n\r\nclass Informer {\r\n  constructor() {\r\n    this.queueLimit = 5;\r\n    this.queue = [];\r\n  }\r\n\r\n  /*\r\n   * Method to show a message from queue.\r\n   * Not used publicly.\r\n   */\r\n  show(type, message, duration, pos, callback) {\r\n    setTimeout(\r\n      function () {\r\n        callback.bind(this)();\r\n      }.bind(this),\r\n      duration\r\n    );\r\n    if (type === \"valid\") {\r\n      toast.success(message, {\r\n        position: pos,\r\n        autoClose: duration,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: false,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    } else if (type === \"warning\") {\r\n      toast.warn(message, {\r\n        position: pos,\r\n        autoClose: duration,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: false,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    } else if (type === \"error\") {\r\n      toast.error(message, {\r\n        position: pos,\r\n        autoClose: duration,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: false,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    }\r\n  }\r\n\r\n  /*\r\n   * Only method to be used in public. This queues a message that appears as long as given\r\n   * duration. Type value is [valid|warning|error].\r\n   */\r\n  queueMessage(\r\n    type = \"empty\",\r\n    message = \"\",\r\n    duration = 1500,\r\n    pos = \"bottom-center\"\r\n  ) {\r\n    if (type !== \"empty\" && this.queue.length + 1 <= this.queueLimit) {\r\n      this.queue.push({\r\n        type,\r\n        message,\r\n        duration,\r\n        pos,\r\n        active: false,\r\n        done: false,\r\n      });\r\n    }\r\n\r\n    let current = this.queue[0];\r\n    if (current && !current.active && !current.done) {\r\n      this.queue[0].active = true;\r\n      this.show(\r\n        current.type,\r\n        current.message,\r\n        current.duration,\r\n        current.pos,\r\n        function () {\r\n          this.queue[0].done = true;\r\n          this.queue.shift();\r\n          this.queueMessage();\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Informer;\r\n","import React, { useState } from \"react\";\nimport Header from \"./components/Header/Header\";\nimport Notifier from \"./components/Notifier/Notifier\";\nimport MainList from \"./components/MainList/MainList\";\n\nconst App = () => {\n  const [styleBg, setStyleBg] = useState({\n    backgroundColor: \"#212121\",\n    height: \"100%\",\n    overflowY: \"auto\",\n    overflowX: \"hidden\",\n    display: \"grid\",\n    gridTemplateColumns: \"33% 34% 33%\",\n    gridTemplateRows: \"15px 90px auto\",\n  });\n  const [shuffle, setShuffle] = useState(false);\n  const [reset, setReset] = useState(false);\n  const [saveFile, setSaveFile] = useState(false);\n  const [uploadFile, setUploadFile] = useState({\n    state: false,\n    event: \"\",\n  });\n  const [play, setPlay] = useState(false);\n  const [pause, setPause] = useState(false);\n  const [skip, setSkip] = useState(false);\n  const [stop, setStop] = useState(false);\n  const [SMPVizActive, setSMPVizActive] = useState(false);\n  const [SMPVizDone, setSMPVizDone] = useState(false);\n  const [darkMode, setDarkMode] = useState(true);\n\n  const handleChangeBgColor = (val) => {\n    if (val) {\n      setStyleBg({\n        backgroundColor: \"#212121\",\n        height: \"100%\",\n        overflowY: \"auto\",\n        overflowX: \"hidden\",\n        display: \"grid\",\n        gridTemplateColumns: \"33% 34% 33%\",\n        gridTemplateRows: \"15px 90px auto\",\n      });\n    } else {\n      setStyleBg({\n        backgroundColor: \"white\",\n        height: \"100%\",\n        overflowY: \"auto\",\n        overflowX: \"hidden\",\n        display: \"grid\",\n        gridTemplateColumns: \"33% 34% 33%\",\n        gridTemplateRows: \"15px 90px auto\",\n      });\n    }\n  };\n  const handleRandomConfig = (state) => {\n    setShuffle(state);\n  };\n  const handleReset = (state) => {\n    setReset(state);\n  };\n  const handleSaveFile = (state) => {\n    setSaveFile(state);\n  };\n  const handleInputFile = (newEvent, newState) => {\n    setUploadFile({\n      state: newState,\n      event: newEvent,\n    });\n  };\n  const handlePlay = (state) => {\n    setPlay(state);\n  };\n  const handleVizActive = (state) => {\n    setSMPVizActive(state);\n  };\n  const handleVizDone = (state) => {\n    setSMPVizDone(state);\n  };\n  const handlePause = (state) => {\n    setPause(state);\n  };\n  const handleSkip = (state) => {\n    setSkip(state);\n  };\n  const handleStop = (state) => {\n    setStop(state);\n  };\n  const handleDarkMode = (state) => {\n    setDarkMode(state);\n  };\n\n  return (\n    <div className=\"App\" style={styleBg}>\n      <Notifier />\n      <Header\n        pause={pause}\n        SMPVizActive={SMPVizActive}\n        SMPVizDone={SMPVizDone}\n        handleChangeBgColor={handleChangeBgColor}\n        handleRandomConfig={handleRandomConfig}\n        handleReset={handleReset}\n        handleSaveFile={handleSaveFile}\n        handleInputFile={handleInputFile}\n        handlePlay={handlePlay}\n        handlePause={handlePause}\n        handleSkip={handleSkip}\n        handleStop={handleStop}\n        handleDarkMode={handleDarkMode}\n      />\n      <MainList\n        shuffle={shuffle}\n        reset={reset}\n        saveFile={saveFile}\n        uploadFile={uploadFile}\n        play={play}\n        pause={pause}\n        skip={skip}\n        stop={stop}\n        SMPVizActive={SMPVizActive}\n        SMPVizDone={SMPVizDone}\n        darkMode={darkMode}\n        handleRandomConfig={handleRandomConfig}\n        handleReset={handleReset}\n        handleSaveFile={handleSaveFile}\n        handleInputFile={handleInputFile}\n        handlePlay={handlePlay}\n        handleVizActive={handleVizActive}\n        handleVizDone={handleVizDone}\n        handlePause={handlePause}\n        handleSkip={handleSkip}\n        handleStop={handleStop}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}